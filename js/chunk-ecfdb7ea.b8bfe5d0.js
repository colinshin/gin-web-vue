(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ecfdb7ea","401","404","auth-redirect","login","redirect"],{"005d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("uploader",{staticClass:"uploader-example",attrs:{options:e.options},on:{"file-success":e.onFileSuccess}},[a("uploader-unsupport"),a("uploader-drop",[a("p",[e._v("Drop files here to upload or")]),a("uploader-btn",[e._v("select files")]),a("uploader-btn",{attrs:{attrs:e.attrs}},[e._v(" select images ")]),a("uploader-btn",{attrs:{directory:!0}},[e._v(" select folder ")])],1),a("uploader-list")],1)],1)},n=[],i=(a("c975"),a("96cf"),a("1da1")),o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=a("9ab4"),p=a("60a3"),d=a("3c56"),f=a("9dba"),m=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.options={target:"api/v1/upload/file",fileParameterName:"file",testChunks:!0,checkChunkUploadedByResponse:function(e,t){var a=JSON.parse(t);return 201===a.code&&a.data&&(a.data.complete||(a.data.uploaded||[]).indexOf(e.offset+1)>=0)},headers:{Authorization:"Bearer "+f["a"].token}},e.attrs={accept:"image/*"},e}return Object(l["a"])(a,[{key:"onFileSuccess",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a,r,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=JSON.parse(r),201!==i.code||!i.data||!i.data.complete){e.next=4;break}return e.next=4,Object(d["a"])(i.data);case 4:case"end":return e.stop()}}),e)})));function t(t,a,r,n){return e.apply(this,arguments)}return t}()}]),a}(p["c"]);m=Object(u["a"])([Object(p["a"])({name:"Uploader1"})],m);var g=m,h=g,b=(a("b8bd"),a("2877")),v=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=v.exports},"0914":function(e,t,a){"use strict";var r=a("18cf"),n=a.n(r);n.a},"0b60":function(e,t,a){e.exports=a.p+"img/404-cloud.0f4bc32b.png"},"0f0f":function(e,t,a){},"10b3":function(e,t,a){"use strict";var r=a("86fa"),n=a.n(r);n.a},"13d5":function(e,t,a){"use strict";var r=a("23e7"),n=a("d58f").left,i=a("a640"),o=a("ae40"),l=i("reduce"),s=o("reduce",{1:0});r({target:"Array",proto:!0,forced:!l||!s},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"18cf":function(e,t,a){},"1b37":function(e,t,a){!function(t,a){e.exports=a()}("undefined"!=typeof self&&self,(function(){return function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,r){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build/",t(t.s=1)}([function(e,t,a){"use strict";var r=a(9);t.a=r.a},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(2);t.default=r.a},function(e,t,a){"use strict";function r(e){a(3)}var n=a(0),i=a(10),o=a(8),l=r,s=o(n.a,i.a,!1,l,"data-v-2ac842d8",null);t.a=s.exports},function(e,t,a){var r=a(4);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals),a(6)("e1788228",r,!0,{})},function(e,t,a){t=e.exports=a(5)(!1),t.push([e.i,".json-view-container[data-v-2ac842d8]{background-color:#fff}.json-view-container.deep-1[data-v-2ac842d8]{padding-right:10px}.json-view-container .json-view[data-v-2ac842d8]{position:relative;display:block;width:100%;height:100%;white-space:nowrap;padding-left:2rem;box-sizing:border-box;font-family:Consolas!important;cursor:default}.json-view-container .json-view .json-note[data-v-2ac842d8]{color:#909399;font-size:12px;font-style:italic}.json-view-container .json-view .json-key[data-v-2ac842d8]{color:#8c6325}.json-view-container .json-view .json-value[data-v-2ac842d8]{display:inline-block;color:#57b73b;word-break:break-all;white-space:normal}.json-view-container .json-view .json-value.number[data-v-2ac842d8]{color:#2d8cf0}.json-view-container .json-view .json-value.string[data-v-2ac842d8]{color:#57b73b}.json-view-container .json-view .json-value.boolean[data-v-2ac842d8],.json-view-container .json-view .json-value.null[data-v-2ac842d8]{color:#eb3324}.json-view-container .json-view .json-item[data-v-2ac842d8]{margin:0;padding-left:2rem;display:flex}.json-view-container .json-view .first-line[data-v-2ac842d8]{padding:0;margin:0}.json-view-container .json-view .first-line.pointer[data-v-2ac842d8]{cursor:pointer!important}.json-view-container .json-view .json-body[data-v-2ac842d8]{position:relative;padding:0;margin:0}.json-view-container .json-view .json-body .base-line[data-v-2ac842d8]{position:absolute;height:100%;border-left:1px dashed #bbb;top:0;left:2px}.json-view-container .json-view .last-line[data-v-2ac842d8]{padding:0;margin:0}.json-view-container .json-view .angle[data-v-2ac842d8]{position:absolute;display:block;cursor:pointer;float:left;width:20px;text-align:center;left:12px}.json-view-container.one-dark[data-v-2ac842d8]{background-color:#292c33}.json-view-container.one-dark .json-view[data-v-2ac842d8]{font-family:Menlo,Consolas,Courier New,Courier,FreeMono,monospace!important}.json-view-container.one-dark .json-view .json-note[data-v-2ac842d8]{color:#909399;font-size:12px;font-style:italic}.json-view-container.one-dark .json-view .json-key[data-v-2ac842d8]{color:#d27277}.json-view-container.one-dark .json-view .json-value[data-v-2ac842d8]{color:#c6937c}.json-view-container.one-dark .json-view .json-value.number[data-v-2ac842d8]{color:#bacdab}.json-view-container.one-dark .json-view .json-value.string[data-v-2ac842d8]{color:#c6937c}.json-view-container.one-dark .json-view .json-value.boolean[data-v-2ac842d8],.json-view-container.one-dark .json-view .json-value.null[data-v-2ac842d8]{color:#659bd1}.json-view-container.one-dark .json-view .first-line[data-v-2ac842d8]{color:#acb2be}.json-view-container.one-dark .json-view .json-body .base-line[data-v-2ac842d8]{border-left:1px solid #3c4047}.json-view-container.one-dark .json-view .json-item[data-v-2ac842d8],.json-view-container.one-dark .json-view .last-line[data-v-2ac842d8]{color:#acb2be}.json-view-container.vs-code[data-v-2ac842d8]{background-color:#1e1e1e}.json-view-container.vs-code .json-view[data-v-2ac842d8]{font-family:Menlo,Consolas,Courier New,Courier,FreeMono,monospace!important}.json-view-container.vs-code .json-view .json-note[data-v-2ac842d8]{color:#909399;font-size:12px;font-style:italic}.json-view-container.vs-code .json-view .json-key[data-v-2ac842d8]{color:#a9dbfb}.json-view-container.vs-code .json-view .json-value[data-v-2ac842d8]{color:#c6937c}.json-view-container.vs-code .json-view .first-line[data-v-2ac842d8]{color:#d4d4d4}.json-view-container.vs-code .json-view .json-body .base-line[data-v-2ac842d8]{border-left:1px solid #404040}.json-view-container.vs-code .json-view .json-item[data-v-2ac842d8],.json-view-container.vs-code .json-view .last-line[data-v-2ac842d8]{color:#d4d4d4}",""])},function(e,t){function a(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var i=r(n);return[a].concat(n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}))).concat([i]).join("\n")}return[a].join("\n")}function r(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=a(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var i=this[n][0];"number"==typeof i&&(r[i]=!0)}for(n=0;n<e.length;n++){var o=e[n];"number"==typeof o[0]&&r[o[0]]||(a&&!o[2]?o[2]=a:a&&(o[2]="("+o[2]+") and ("+a+")"),t.push(o))}},t}},function(e,t,a){function r(e){for(var t=0;t<e.length;t++){var a=e[t],r=u[a.id];if(r){r.refs++;for(var n=0;n<r.parts.length;n++)r.parts[n](a.parts[n]);for(;n<a.parts.length;n++)r.parts.push(i(a.parts[n]));r.parts.length>a.parts.length&&(r.parts.length=a.parts.length)}else{var o=[];for(n=0;n<a.parts.length;n++)o.push(i(a.parts[n]));u[a.id]={id:a.id,refs:1,parts:o}}}}function n(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function i(e){var t,a,r=document.querySelector("style["+b+'~="'+e.id+'"]');if(r){if(m)return g;r.parentNode.removeChild(r)}if(v){var i=f++;r=d||(d=n()),t=o.bind(null,r,i,!1),a=o.bind(null,r,i,!0)}else r=n(),t=l.bind(null,r),a=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else a()}}function o(e,t,a,r){var n=a?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,n);else{var i=document.createTextNode(n),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function l(e,t){var a=t.css,r=t.media,n=t.sourceMap;if(r&&e.setAttribute("media",r),h.ssrId&&e.setAttribute(b,t.id),n&&(a+="\n/*# sourceURL="+n.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=a(7),u={},p=s&&(document.head||document.getElementsByTagName("head")[0]),d=null,f=0,m=!1,g=function(){},h=null,b="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,a,n){m=a,h=n||{};var i=c(e,t);return r(i),function(t){for(var a=[],n=0;n<i.length;n++){var o=i[n],l=u[o.id];l.refs--,a.push(l)}t?(i=c(e,t),r(i)):i=[];for(n=0;n<a.length;n++){l=a[n];if(0===l.refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete u[l.id]}}}};var y=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var a=[],r={},n=0;n<t.length;n++){var i=t[n],o=i[0],l=i[1],s=i[2],c=i[3],u={id:e+":"+n,css:l,media:s,sourceMap:c};r[o]?r[o].parts.push(u):a.push(r[o]={id:o,parts:[u]})}return a}},function(e,t){e.exports=function(e,t,a,r,n,i){var o,l=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(o=e,l=e.default);var c,u="function"==typeof l?l.options:l;if(t&&(u.render=t.render,u.staticRenderFns=t.staticRenderFns,u._compiled=!0),a&&(u.functional=!0),n&&(u._scopeId=n),i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=c):r&&(c=r),c){var p=u.functional,d=p?u.render:u.beforeCreate;p?(u._injectStyles=c,u.render=function(e,t){return c.call(t),d(e,t)}):u.beforeCreate=d?[].concat(d,c):[c]}return{esModule:o,exports:l,options:u}}},function(e,t,a){"use strict";t.a={name:"jsonView",props:{data:{type:[Object,Array],required:!0},jsonKey:{type:String,default:""},closed:{type:Boolean,default:!1},isLast:{type:Boolean,default:!0},fontSize:{type:Number,default:14},lineHeight:{type:Number,default:24},deep:{type:Number,default:3},currentDeep:{type:Number,default:1},iconStyle:{type:String,default:"square"},iconColor:{type:Array,default:function(){return[]}},theme:{type:String,default:""},hasSiblings:{type:Boolean,default:!0}},data:function(){return{innerclosed:this.closed,templateDeep:this.currentDeep,visible:!1}},computed:{isArray:function(){return"array"===this.getDataType(this.data)},length:function(){return this.isArray?this.data.length:Object.keys(this.data).length},subfix:function(){var e=this.data;return this.isEmptyArrayOrObject(e)?"":(this.isArray?"]":"}")+(this.isLast?"":",")},prefix:function(){return this.isArray?"[":"{"},items:function(){var e=this,t=this.data;return this.isArray?t.map((function(t){return{value:t,isJSON:e.isObjectOrArray(t),key:""}})):Object.keys(t).map((function(a){var r=t[a];return{value:r,isJSON:e.isObjectOrArray(r),key:a}}))},iconColors:function(){var e=this.theme,t=this.iconColor;return 2===t.length?t:"one-dark"===e?["#747983","#747983"]:"vs-code"===e?["#c6c6c6","#c6c6c6"]:["#747983","#747983"]}},mounted:function(){var e=this;setTimeout((function(){e.visible=!0}),0)},methods:{getDataType:function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},isObjectOrArray:function(e){return["array","object"].includes(this.getDataType(e))},toggleClose:function(){0!==this.length&&(this.innerclosed?this.innerclosed=!1:this.innerclosed=!0)},isClose:function(){return this.templateDeep+1>this.deep},isEmptyArrayOrObject:function(e){return[{},[]].map((function(e){return JSON.stringify(e)})).includes(JSON.stringify(e))}},watch:{closed:function(){this.innerclosed=this.closed}}}},function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.visible?a("div",{class:["json-view-container",e.theme,"deep-"+e.currentDeep]},[a("div",{class:["json-view",e.length?"closeable":""],style:{fontSize:e.fontSize+"px",lineHeight:e.lineHeight+"px"}},[e.length&&"square"===e.iconStyle?a("span",{staticClass:"angle",on:{click:e.toggleClose}},[e.innerclosed?a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(42, 161, 152)",height:"1em",width:"1em"},attrs:{fill:e.iconColors[0],width:"1em",height:"1em",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})]):e._e(),e._v(" "),e.innerclosed?e._e():a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(88, 110, 117)",height:"1em",width:"1em"},attrs:{fill:e.iconColors[1],width:"1em",height:"1em",viewBox:"0 0 1792 1792"}},[a("path",{attrs:{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"}})])]):e._e(),e._v(" "),e.length&&"circle"===e.iconStyle?a("span",{staticClass:"angle",on:{click:e.toggleClose}},[e.innerclosed?e._e():a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(1, 160, 228)",height:"1em",width:"1em"},attrs:{viewBox:"0 0 24 24",fill:e.iconColors[0],preserveAspectRatio:"xMidYMid meet"}},[a("path",{attrs:{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"}})]),e._v(" "),e.innerclosed?a("svg",{staticStyle:{"vertical-align":"middle",color:"rgb(161, 106, 148)",height:"1em",width:"1em"},attrs:{viewBox:"0 0 24 24",fill:e.iconColors[1],preserveAspectRatio:"xMidYMid meet"}},[a("path",{attrs:{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"}})]):e._e()]):e._e(),e._v(" "),e.length&&"triangle"===e.iconStyle?a("span",{staticClass:"angle",on:{click:e.toggleClose}},[e.innerclosed?e._e():a("svg",{staticStyle:{"vertical-align":"top",color:"#3c4047",height:"1em",width:"1em","padding-left":"2px"},attrs:{viewBox:"0 0 15 15",fill:e.iconColors[0]}},[a("path",{attrs:{d:"M0 5l6 6 6-6z"}})]),e._v(" "),e.innerclosed?a("svg",{staticStyle:{"vertical-align":"top",color:"#3c4047",height:"1em",width:"1em","padding-left":"2px"},attrs:{viewBox:"0 0 15 15",fill:e.iconColors[1]}},[a("path",{attrs:{d:"M0 14l6-6-6-6z"}})]):e._e()]):e._e(),e._v(" "),a("div",{staticClass:"content-wrap"},[a("p",{class:["first-line",e.length>0?"pointer":""],on:{click:e.toggleClose}},[e.jsonKey?a("span",{staticClass:"json-key"},[e._v('"'+e._s(e.jsonKey)+'": ')]):e._e(),e._v(" "),e.length?a("span",[e._v(e._s(e.prefix)+e._s(e.innerclosed?"..."+e.subfix:"")+"\n                    "),a("span",{staticClass:"json-note"},[e._v(e._s(e.innerclosed?e.length+" items":""))])]):e._e(),e._v(" "),e.length?e._e():a("span",[e._v(e._s((e.isArray?"[]":"{}")+(e.isLast?"":",")))])]),e._v(" "),!e.innerclosed&&e.length?a("div",{staticClass:"json-body"},[e._l(e.items,(function(t,r){return[t.isJSON?a("json-view",{key:r,attrs:{closed:e.isClose(),data:t.value,jsonKey:t.key,currentDeep:e.templateDeep+1,deep:e.deep,iconStyle:e.iconStyle,theme:e.theme,fontSize:e.fontSize,lineHeight:e.lineHeight,iconColor:e.iconColors,isLast:r===e.items.length-1,hasSiblings:t.hasSiblings}}):a("p",{key:r,staticClass:"json-item"},[a("span",{staticClass:"json-key"},[e._v(e._s(e.isArray?"":'"'+t.key+'":'))]),e._v(" "),a("span",{class:["json-value",e.getDataType(t.value)]},[e._v("\n                            "+e._s(("string"===e.getDataType(t.value)?'"':"")+t.value+("string"===e.getDataType(t.value)?'"':"")+(r===e.items.length-1?"":","))+"\n                        ")])])]})),e._v(" "),e.innerclosed?e._e():a("span",{staticClass:"base-line"})],2):e._e(),e._v(" "),e.innerclosed?e._e():a("p",{staticClass:"last-line"},[a("span",[e._v(e._s(e.subfix))])])])])]):e._e()},n=[],i={render:r,staticRenderFns:n};t.a=i}])}))},"1db4":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),a("div",{staticClass:"text-404"},[a("div",{staticClass:"text-404__oops"},[e._v(" OOPS! ")]),e._m(1),a("div",{staticClass:"text-404__headline"},[e._v(" "+e._s(e.message)+" ")]),a("div",{staticClass:"text-404__info"},[e._v(" Please check that the URL you entered is correct, or click the button below to return to the homepage. ")]),a("a",{staticClass:"text-404__return-home",attrs:{href:""}},[e._v("Back to home")])])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic-404"},[r("img",{staticClass:"pic-404__parent",attrs:{src:a("4f29"),alt:"404"}}),r("img",{staticClass:"pic-404__child left",attrs:{src:a("0b60"),alt:"404"}}),r("img",{staticClass:"pic-404__child mid",attrs:{src:a("0b60"),alt:"404"}}),r("img",{staticClass:"pic-404__child right",attrs:{src:a("0b60"),alt:"404"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-404__info"},[e._v(" All rights reserved "),a("a",{staticStyle:{color:"#20a0ff"},attrs:{href:"https://wallstreetcn.com",target:"_blank"}},[e._v("wallstreetcn")])])}],i=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("60a3"),u=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.message="404 Page Not Found",e}return a}(c["c"]);u=Object(s["a"])([Object(c["a"])({name:"Page404"})],u);var p=u,d=p,f=(a("58f6"),a("2877")),m=Object(f["a"])(d,r,n,!1,null,"16963be3",null);t["default"]=m.exports},2017:function(e,t,a){"use strict";var r=a("ab10"),n=a.n(r);n.a},"24e2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"back-btn",attrs:{icon:"el-icon-arrow-left"},on:{click:e.back}},[e._v(" 返回 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v(" Oops! ")]),e._v(" gif来源"),a("a",{attrs:{href:"https://zh.airbnb.com/",target:"_blank"}},[e._v("airbnb")]),e._v(" 页面 "),a("h2",[e._v("你没有权限去该页面")]),a("h6",[e._v("如有不满请联系你领导")]),a("ul",{staticClass:"list-unstyled"},[a("li",[e._v("或者你可以去:")]),a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/dashboard"}},[e._v(" 回首页 ")])],1),a("li",{staticClass:"link-type"},[a("a",{attrs:{href:"https://github.com/armour"}},[e._v("随便看看")])]),a("li",[a("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.dialogVisible=!0}}},[e._v("点我看图")])])])]),a("el-col",{attrs:{span:12}},[a("img",{staticClass:"some-gif",attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"随便看"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{staticClass:"some-img",attrs:{src:e.ewizardClap}})])],1)},n=[],i=a("d4ec"),o=a("bee2"),l=a("262e"),s=a("2caf"),c=a("9ab4"),u=a("60a3"),p=a("7484"),d=a.n(p),f=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.errGif=d.a+"?"+ +new Date,e.ewizardClap="https://wpimg.wallstcn.com/007ef517-bafd-4066-aae4-6883632d9646",e.dialogVisible=!1,e}return Object(o["a"])(a,[{key:"back",value:function(){this.$route.query.noGoBack?this.$router.push({path:"/dashboard"}):this.$router.go(-1)}}]),a}(u["c"]);f=Object(c["a"])([Object(u["a"])({name:"Page401"})],f);var m=f,g=m,h=(a("bdd7"),a("2877")),b=Object(h["a"])(g,r,n,!1,null,"daae3fe0",null);t["default"]=b.exports},"26e0":function(e,t,a){e.exports={menuBg:"#304156",menuText:"#bfcbd9",menuActiveText:"#409eff"}},"2a7e":function(e,t,a){},"2e7e":function(e,t,a){},3545:function(e,t,a){},3672:function(e,t,a){"use strict";var r=a("2a7e"),n=a.n(r);n.a},3737:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"a",(function(){return c}));var r=a("b32d"),n=function(e){return Object(r["a"])({url:"/role/list",method:"get",params:e})},i=function(e){return Object(r["a"])({url:"/role/create",method:"post",data:e})},o=function(e,t){return Object(r["a"])({url:"/role/update/".concat(e),method:"patch",data:t})},l=function(e,t){return Object(r["a"])({url:"/role/menus/update/".concat(e),method:"patch",data:t})},s=function(e,t){return Object(r["a"])({url:"/role/apis/update/".concat(e),method:"patch",data:t})},c=function(e){return Object(r["a"])({url:"/role/delete/batch",method:"delete",params:{ids:e}})}},"3b8c":function(e,t,a){},"3c56":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var r=a("b32d"),n=function(e){return Object(r["a"])({url:"/upload/merge",method:"post",data:e})},i=function(e){return Object(r["a"])({url:"/upload/unzip",method:"post",data:e})}},"44df":function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return s}));var r=a("b32d"),n=function(e){return Object(r["a"])({url:"/api/list",method:"get",params:e})},i=function(e){return Object(r["a"])({url:"/api/create",method:"post",data:e})},o=function(e,t){return Object(r["a"])({url:"/api/update/".concat(e),method:"patch",data:t})},l=function(e){return Object(r["a"])({url:"/api/delete/batch",method:"delete",params:{ids:e}})},s=function(e){return Object(r["a"])({url:"/api/all/category/".concat(e),method:"get"})}},"4ec9":function(e,t,a){},"4f29":function(e,t,a){e.exports=a.p+"img/404.a57b6f31.png"},5447:function(e,t,a){},"58f6":function(e,t,a){"use strict";var r=a("6bfe"),n=a.n(r);n.a},"5d8a":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" 新增 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"name",label:"英文名称",width:"180"}}),a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),a("svg-icon",{attrs:{"icon-class":"bug"}}),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{name:e.row.icon}})]}}])}),a("el-table-column",{attrs:{prop:"sort",label:"同级排序",align:"center"}}),a("el-table-column",{attrs:{prop:"path",label:"URL路径",width:"180"}}),a("el-table-column",{attrs:{prop:"component",label:"组件路径",width:"180"}}),a("el-table-column",{attrs:{prop:"redirect",label:"重定向地址",width:"120"}}),a("el-table-column",{attrs:{prop:"visible",label:"侧边栏导航",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleVisibleChange(t.row)}},model:{value:t.row.visible,callback:function(a){e.$set(t.row,"visible","string"===typeof a?a.trim():a)},expression:"scope.row.visible"}})]}}])}),a("el-table-column",{attrs:{prop:"breadcrumb",label:"面包屑导航",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleBreadcrumbChange(t.row)}},model:{value:t.row.breadcrumb,callback:function(a){e.$set(t.row,"breadcrumb","string"===typeof a?a.trim():a)},expression:"scope.row.breadcrumb"}})]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status","string"===typeof a?a.trim():a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"creator",label:"创建人",align:"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),a("el-dialog",{attrs:{title:e.updateDialog.title,visible:e.updateDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.updateDialog,"visible",t)}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateDialog.form,rules:e.updateDialog.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"上级目录",prop:"parentId"}},[a("el-cascader",{attrs:{options:e.updateDialog.menuTreeOptions,"show-all-levels":!1,props:{checkStrictly:!0,label:"title",value:"id",emitPath:!1},filterable:"",clearable:""},on:{change:e.handleMenuTreeChange},model:{value:e.updateDialog.form.parentIdStr,callback:function(t){e.$set(e.updateDialog.form,"parentIdStr","string"===typeof t?t.trim():t)},expression:"updateDialog.form.parentIdStr"}})],1),a("el-form-item",{attrs:{label:"英文名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入英文名称"},model:{value:e.updateDialog.form.name,callback:function(t){e.$set(e.updateDialog.form,"name","string"===typeof t?t.trim():t)},expression:"updateDialog.form.name"}})],1),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.updateDialog.form.title,callback:function(t){e.$set(e.updateDialog.form,"title","string"===typeof t?t.trim():t)},expression:"updateDialog.form.title"}})],1),a("el-form-item",{attrs:{label:"图标",prop:"icon"}},[a("el-input",{attrs:{placeholder:"请输入图标"},model:{value:e.updateDialog.form.icon,callback:function(t){e.$set(e.updateDialog.form,"icon","string"===typeof t?t.trim():t)},expression:"updateDialog.form.icon"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input-number",{attrs:{min:0,max:99,label:"同级菜单排序序号"},model:{value:e.updateDialog.form.sort,callback:function(t){e.$set(e.updateDialog.form,"sort","string"===typeof t?t.trim():t)},expression:"updateDialog.form.sort"}})],1),a("el-form-item",{attrs:{label:"根路径",prop:"rootPath"}},[a("el-input",{attrs:{disabled:!e.updateDialog.form.root,placeholder:"请输入URL根路径"},model:{value:e.updateDialog.form.rootPath,callback:function(t){e.$set(e.updateDialog.form,"rootPath","string"===typeof t?t.trim():t)},expression:"updateDialog.form.rootPath"}})],1),e.updateDialog.form.root?e._e():a("el-form-item",{attrs:{label:"子路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入URL子路径"},model:{value:e.updateDialog.form.path,callback:function(t){e.$set(e.updateDialog.form,"path","string"===typeof t?t.trim():t)},expression:"updateDialog.form.path"}})],1),a("el-form-item",{attrs:{label:"完整路径",prop:"fullPath"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.updateDialog.form.fullPath,callback:function(t){e.$set(e.updateDialog.form,"fullPath","string"===typeof t?t.trim():t)},expression:"updateDialog.form.fullPath"}})],1),e.updateDialog.form.root?e._e():a("el-form-item",{attrs:{label:"组件路径",prop:"component"}},[a("el-input",{attrs:{placeholder:"请输入组件路径(默认在views目录)"},model:{value:e.updateDialog.form.component,callback:function(t){e.$set(e.updateDialog.form,"component","string"===typeof t?t.trim():t)},expression:"updateDialog.form.component"}})],1),a("el-form-item",{attrs:{label:"重定向",prop:"redirect"}},[a("el-input",{attrs:{placeholder:"请输入重定向地址"},model:{value:e.updateDialog.form.redirect,callback:function(t){e.$set(e.updateDialog.form,"redirect","string"===typeof t?t.trim():t)},expression:"updateDialog.form.redirect"}})],1),a("el-form-item",{attrs:{label:"侧边栏导航",prop:"visible"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"可见","inactive-text":"隐藏"},model:{value:e.updateDialog.form.visible,callback:function(t){e.$set(e.updateDialog.form,"visible","string"===typeof t?t.trim():t)},expression:"updateDialog.form.visible"}})],1),a("el-form-item",{attrs:{label:"面包屑导航",prop:"breadcrumb"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"可见","inactive-text":"隐藏"},model:{value:e.updateDialog.form.breadcrumb,callback:function(t){e.$set(e.updateDialog.form,"breadcrumb","string"===typeof t?t.trim():t)},expression:"updateDialog.form.breadcrumb"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"正常","inactive-text":"禁用"},model:{value:e.updateDialog.form.status,callback:function(t){e.$set(e.updateDialog.form,"status","string"===typeof t?t.trim():t)},expression:"updateDialog.form.status"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.updateDialog.loading},on:{click:e.doUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelUpdate}},[e._v(" 取 消 ")])],1)],1)],1)},n=[],i=(a("c975"),a("a15b"),a("b0c0"),a("a9e3"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("23ea"),m=a("6ebf"),g=a("3490"),h=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.updateDialog={loading:!1,type:0,visible:!1,title:"",menuTreeOptions:[],defaultForm:{id:0,root:!0,parentId:0,name:"",title:"",icon:"",sort:0,path:"",component:"",redirect:"",visible:!0,breadcrumb:!0,status:!0,parentIdStr:"0",rootPath:"",fullPath:"/"},form:{},oldData:{},rules:{name:[{required:!0,message:"菜单英文名称不能为空",trigger:"blur"},{validator:e.validateName,trigger:"blur"}],childPath:[{required:!0,message:"子路径不能为空",trigger:"blur"}],component:[{required:!0,message:"组件路径不能为空",trigger:"blur"}]}},e.table={loading:!1,list:[]},e}return Object(s["a"])(a,[{key:"validateName",value:function(e,t,a){/^[a-zA-Z]/.test(t)?/^[a-zA-Z]([-_a-zA-Z0-9])+$/.test(t)?a():a(new Error("不允许出现汉字或特殊字符, 如a+,sa、a张三")):a(new Error("必须以字母开头, 如a12345"))}},{key:"created",value:function(){this.resetUpdateForm(),this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,Object(f["e"])(t);case 6:a=e.sent,r=a.data,this.table.list=r;case 9:return e.prev=9,this.table.loading=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshMenuTreeOptions",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.menuTreeOptions=[],t={id:"0",title:"顶级目录",children:this.getMenuOptions(this.table.list)},this.updateDialog.menuTreeOptions.push(t);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMenuOptions",value:function(e){for(var t=[],a=0,r=e.length;a<r;a++){var n=e[a],o=n.title;m["a"].t("route."+n.name)!=="route."+n.name&&(o=m["a"].t("route."+n.name));var l={id:String(n.id),title:o};n.children.length>0&&(l=Object(i["a"])(Object(i["a"])({},l),{},{children:this.getMenuOptions(n.children)})),1===this.updateDialog.type&&this.isChildMenu(this.updateDialog.form.parentId,n.id,this.table.list)&&(l.disabled=!0),t.push(l)}return t}},{key:"doUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.updateForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=32;break}if(r=t.updateDialog.form,t.updateDialog.form.root&&(r=Object(i["a"])(Object(i["a"])({},t.updateDialog.form),{},{path:t.updateDialog.form.fullPath})),n=r.parentId,delete r.parentIdStr,delete r.rootPath,delete r.fullPath,0!==t.updateDialog.type){e.next=17;break}return e.prev=8,t.updateDialog.loading=!0,e.next=12,Object(f["b"])(Object(i["a"])(Object(i["a"])({},r),{},{parentId:n}));case 12:return e.prev=12,t.updateDialog.loading=!1,e.finish(12);case 15:e.next=28;break;case 17:if(o=Object(g["b"])(t.updateDialog.oldData,r),o.id){e.next=21;break}return t.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 21:return e.prev=21,t.updateDialog.loading=!0,e.next=25,Object(f["f"])(o.id,o);case 25:return e.prev=25,t.updateDialog.loading=!1,e.finish(25);case 28:t.updateDialog.visible=!1,t.getData(),t.resetUpdateForm(),t.$notify({title:"恭喜",message:"".concat(0===t.updateDialog.type?"创建":"更新","菜单成功"),type:"success",duration:2e3});case 32:case"end":return e.stop()}}),e,null,[[8,,12,15],[21,,25,28]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetUpdateForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.updateForm;e&&e.clearValidate()})),this.updateDialog.form=JSON.parse(JSON.stringify(this.updateDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===this.updateDialog.type&&this.resetUpdateForm(),this.updateDialog.type=0,this.refreshMenuTreeOptions(),this.updateDialog.title="创建新菜单",this.updateDialog.visible=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.resetUpdateForm(),this.updateDialog.form.id=t.id,this.updateDialog.form.parentId=t.parentId,this.updateDialog.form.parentIdStr=String(t.parentId),this.updateDialog.form.name=t.name,this.updateDialog.form.title=t.title,this.updateDialog.form.icon=t.icon,this.updateDialog.form.sort=t.sort,this.updateDialog.form.component=t.component,this.updateDialog.form.visible=t.visible,this.updateDialog.form.breadcrumb=t.breadcrumb,this.updateDialog.form.status=t.status,this.updateDialog.form.root=0===this.updateDialog.form.parentId,this.updateDialog.form.root?0===t.path.indexOf("/")?this.updateDialog.form.rootPath=t.path.substring(1):this.updateDialog.form.rootPath=t.path:this.updateDialog.form.rootPath=this.getMenuFullPath(t.parentId),this.updateDialog.form.path=t.path,this.updateDialog.form.redirect=t.redirect,this.updateDialog.oldData=JSON.parse(JSON.stringify(this.updateDialog.form)),this.updateDialog.type=1,this.refreshMenuTreeOptions(),this.updateDialog.title="修改菜单信息",this.updateDialog.visible=!0;case 21:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.name);a.length>0&&(s="确定要删除菜单[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["a"])(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleVisibleChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["f"])(t.id,{visible:t.visible});case 2:this.getData();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleBreadcrumbChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["f"])(t.id,{breadcrumb:t.breadcrumb});case 2:this.getData();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleStatusChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["f"])(t.id,{status:t.status});case 2:this.getData();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleMenuTreeChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.form.parentId=Number(this.updateDialog.form.parentIdStr),this.updateDialog.form.root=0===this.updateDialog.form.parentId,this.updateDialog.form.parentId===this.updateDialog.oldData.parentId?(this.updateDialog.form.path=this.updateDialog.oldData.path,this.updateDialog.form.rootPath=this.updateDialog.oldData.rootPath,this.updateDialog.form.component=this.updateDialog.oldData.component):(this.updateDialog.form.path="",this.updateDialog.form.rootPath="",this.updateDialog.form.component=""),this.updateDialog.form.root||(this.updateDialog.form.rootPath=this.getMenuFullPath(this.updateDialog.form.parentId));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getMenuFullPath",value:function(e){var t="";if(e>0){var a=this.getMenuTreeLeaf(e,this.table.list);t=a.parentId>0?this.getMenuFullPath(a.parentId)+"/"+a.path:a.path}return t}},{key:"getMenuTreeLeaf",value:function(e,t){for(var a,r=0,n=t.length;r<n;r++){var i=t[r];if(i.id===e){a=i;break}if(i.children.length>0){var o=this.getMenuTreeLeaf(e,i.children);if(o){a=o;break}}}return a}},{key:"isChildMenu",value:function(e,t,a){if(0===t)return!1;var r=this.getParentMenu(t,a);return e===r||this.isChildMenu(e,r,a)}},{key:"getParentMenu",value:function(e,t){var a=this.getMenuTreeLeaf(e,t);return a.parentId}},{key:"onMenuPathChange",value:function(){this.updateDialog.form.root?(this.updateDialog.form.path=this.updateDialog.form.rootPath,this.updateDialog.form.fullPath="/"+this.updateDialog.form.rootPath):""===this.updateDialog.form.path?this.updateDialog.form.fullPath=this.updateDialog.form.rootPath:this.updateDialog.form.fullPath=this.updateDialog.form.rootPath+"/"+this.updateDialog.form.path}}]),a}(d["c"]);Object(p["a"])([Object(d["d"])("updateDialog.form.rootPath"),Object(d["d"])("updateDialog.form.path")],h.prototype,"onMenuPathChange",null),h=Object(p["a"])([Object(d["a"])({name:"Menu"})],h);var b=h,v=b,y=(a("cdfb"),a("2877")),w=Object(y["a"])(v,r,n,!1,null,"7f55c41e",null);t["default"]=w.exports},"5f60":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"名称",prop:"path"}},[a("el-input",{attrs:{placeholder:"名称",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.name,callback:function(t){e.$set(e.table.form,"name","string"===typeof t?t.trim():t)},expression:"table.form.name"}})],1),a("el-form-item",{attrs:{label:"类别",prop:"category"}},[a("el-select",{attrs:{clearable:"",placeholder:"所属类别"},model:{value:e.table.form.category,callback:function(t){e.$set(e.table.form,"category","string"===typeof t?t.trim():t)},expression:"table.form.category"}},[a("el-option",{key:"1",attrs:{label:"每一层级只需一人批准",value:1}}),a("el-option",{key:"2",attrs:{label:"每一层级必须全部人批准",value:2}})],1)],1),a("el-form-item",{attrs:{label:"提交人确认",prop:"submitUserConfirm"}},[a("el-select",{attrs:{clearable:"",placeholder:"提交人确认"},model:{value:e.table.form.submitUserConfirm,callback:function(t){e.$set(e.table.form,"submitUserConfirm","string"===typeof t?t.trim():t)},expression:"table.form.submitUserConfirm"}},[a("el-option",{key:"1",attrs:{label:"是",value:1}}),a("el-option",{key:"0",attrs:{label:"否",value:0}})],1)],1),a("el-form-item",{attrs:{label:"目标类别",prop:"targetCategory"}},[a("el-select",{attrs:{clearable:"",placeholder:"所属目标类别"},model:{value:e.table.form.targetCategory,callback:function(t){e.$set(e.table.form,"targetCategory","string"===typeof t?t.trim():t)},expression:"table.form.targetCategory"}},[a("el-option",{key:"1",attrs:{label:"请假流程",value:1}})],1)],1),a("el-form-item",{attrs:{label:"自我审批",prop:"self"}},[a("el-select",{attrs:{clearable:"",placeholder:"自我审批"},model:{value:e.table.form.self,callback:function(t){e.$set(e.table.form,"self","string"===typeof t?t.trim():t)},expression:"table.form.self"}},[a("el-option",{key:"1",attrs:{label:"开启",value:1}}),a("el-option",{key:"0",attrs:{label:"关闭",value:0}})],1)],1),a("el-form-item",{attrs:{label:"创建人",prop:"creator"}},[a("el-input",{attrs:{placeholder:"创建人",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.creator,callback:function(t){e.$set(e.table.form,"creator","string"===typeof t?t.trim():t)},expression:"table.form.creator"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" 新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.table.batchDeleteBtnDisabled},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",sortable:""}}),a("el-table-column",{attrs:{prop:"uuid",label:"唯一标识"}}),a("el-table-column",{attrs:{prop:"category",label:"类别",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.category?a("el-tag",[e._v(" "+e._s("一人")+" ")]):2===t.row.category?a("el-tag",[e._v(" "+e._s("所有人")+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"submitUserConfirm",label:"提交人确认"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleSubmitUserConfirmChange(t.row)}},model:{value:t.row.submitUserConfirm,callback:function(a){e.$set(t.row,"submitUserConfirm","string"===typeof a?a.trim():a)},expression:"scope.row.submitUserConfirm"}})]}}])}),a("el-table-column",{attrs:{prop:"self",label:"自我审批"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleSelfChange(t.row)}},model:{value:t.row.self,callback:function(a){e.$set(t.row,"self","string"===typeof a?a.trim():a)},expression:"scope.row.self"}})]}}])}),a("el-table-column",{attrs:{prop:"desc",label:"说明"}}),a("el-table-column",{attrs:{prop:"creator",label:"创建人"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleLine(t.row)}}},[e._v(" 流水线 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.updateDialog.title,visible:e.updateDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.updateDialog,"visible",t)}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateDialog.form,rules:e.updateDialog.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入流程名称"},model:{value:e.updateDialog.form.name,callback:function(t){e.$set(e.updateDialog.form,"name","string"===typeof t?t.trim():t)},expression:"updateDialog.form.name"}})],1),a("el-form-item",{attrs:{label:"类别",prop:"category"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择流程所属类别"},model:{value:e.updateDialog.form.category,callback:function(t){e.$set(e.updateDialog.form,"category","string"===typeof t?t.trim():t)},expression:"updateDialog.form.category"}},[a("el-option",{key:"1",attrs:{label:"每一层级只需一人批准",value:1}}),a("el-option",{key:"2",attrs:{label:"每一层级必须全部人批准",value:2}})],1)],1),a("el-form-item",{attrs:{label:"目标类别",prop:"targetCategory"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择流程所属目标类别"},model:{value:e.updateDialog.form.targetCategory,callback:function(t){e.$set(e.updateDialog.form,"targetCategory","string"===typeof t?t.trim():t)},expression:"updateDialog.form.targetCategory"}},[a("el-option",{key:"1",attrs:{label:"请假流程",value:1}})],1)],1),a("el-form-item",{attrs:{label:"提交人确认",prop:"submitUserConfirm"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:e.updateDialog.form.submitUserConfirm,callback:function(t){e.$set(e.updateDialog.form,"submitUserConfirm","string"===typeof t?t.trim():t)},expression:"updateDialog.form.submitUserConfirm"}})],1),a("el-form-item",{attrs:{label:"自我审批",prop:"self"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:e.updateDialog.form.self,callback:function(t){e.$set(e.updateDialog.form,"self","string"===typeof t?t.trim():t)},expression:"updateDialog.form.self"}})],1),a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.updateDialog.form.desc,callback:function(t){e.$set(e.updateDialog.form,"desc","string"===typeof t?t.trim():t)},expression:"updateDialog.form.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.updateDialog.loading},on:{click:e.doUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelUpdate}},[e._v(" 取 消 ")])],1)],1),a("el-dialog",{attrs:{title:e.lineDialog.title,visible:e.lineDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.lineDialog,"visible",t)}}},[e._l(e.lineDialog.form.lines,(function(t,r){return a("el-form",{key:r,ref:"lineForm",refInFor:!0,staticClass:"line-form",attrs:{"data-ref":"lineForm"+r,rules:e.lineDialog.rules,model:t}},[a("div",{staticClass:"line-form-title"},[a("span",[e._v("第"+e._s(r+1)+"级审批：")]),a("i",{staticClass:"el-icon-delete line-form-delete",on:{click:function(t){return e.lineDelete(r)}}})]),a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入当前审批流水线名称",clearable:""},model:{value:t.name,callback:function(a){e.$set(t,"name","string"===typeof a?a.trim():a)},expression:"line.name"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"roleBase"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"指定角色","inactive-text":"指定用户"},on:{change:function(t){return e.handleRoleBaseChange(r)}},model:{value:t.roleBase,callback:function(a){e.$set(t,"roleBase","string"===typeof a?a.trim():a)},expression:"line.roleBase"}})],1),1==t.roleBase?a("el-form-item",{attrs:{label:"角色",prop:"roleId"}},[a("el-select",{attrs:{filterable:"","default-first-option":"",placeholder:"请选择审批人所属角色"},model:{value:t.roleId,callback:function(a){e.$set(t,"roleId",a)},expression:"line.roleId"}},e._l(t.roleSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"("+e.desc+")",value:e.id}})})),1)],1):a("el-form-item",{attrs:{label:"用户",prop:"userIds"}},[a("el-select",{attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:"请选择具体审批人"},model:{value:t.userIds,callback:function(a){e.$set(t,"userIds",a)},expression:"line.userIds"}},e._l(t.userSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nickname+"(用户名: "+e.username+", 手机号: "+e.mobile+")",value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"编辑权限",prop:"edit"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:t.edit,callback:function(a){e.$set(t,"edit","string"===typeof a?a.trim():a)},expression:"line.edit"}})],1)],1)})),a("div",{staticClass:"line-form-plus-box"},[a("i",{staticClass:"el-icon-circle-plus-outline line-form-plus",on:{click:e.lineCreate}})]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.lineDialog.loading},on:{click:e.doLine}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelLine}},[e._v(" 取 消 ")])],1)],2)],1)},n=[],i=(a("a15b"),a("a434"),a("b0c0"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("333d"),m=a("9ca7"),g=a("3490"),h=a("3737"),b=a("984e"),v=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5,line:{roleBase:1,name:"",edit:1,roleId:"",userIds:[]}},e.updateDialog={loading:!1,type:0,visible:!1,title:"",defaultForm:{id:0,name:"",submitUserConfirm:!1,self:!1,category:"",targetCategory:"",desc:"",creator:""},form:{},oldData:{},rules:{name:[{required:!0,message:"流程名称不能为空",trigger:"blur"}],method:[{required:!0,message:"请求方式不能为空",trigger:"blur"}],category:[{required:!0,message:"类别不能为空",trigger:"blur"}],targetCategory:[{required:!0,message:"目标类别不能为空",trigger:"blur"}]}},e.lineDialog={loading:!1,visible:!1,title:"流水线配置",roleSelectOptions:[],userSelectOptions:[],defaultForm:{flowId:0,lines:[]},form:{},oldData:{},rules:{name:[{required:!0,message:"流水线名称不能为空(尽量简单通俗易懂)",trigger:"blur"}],roleId:[{required:!0,message:"审批角色不能为空",trigger:"blur"}],userIds:[{required:!0,message:"审批用户不能为空",trigger:"blur"}]}},e.table={loading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{name:"",submitUserConfirm:"",self:"",category:"",targetCategory:"",desc:"",creator:""}},e}return Object(s["a"])(a,[{key:"created",value:function(){this.resetUpdateForm(),this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.submitUserConfirm&&delete t.submitUserConfirm,""===t.self&&delete t.self,e.next=7,Object(m["e"])(t);case 7:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 13:return e.prev=13,this.table.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[1,,13,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.updateForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=26;break}if(0!==t.updateDialog.type){e.next=11;break}return e.prev=2,t.updateDialog.loading=!0,e.next=6,Object(m["b"])(t.updateDialog.form);case 6:return e.prev=6,t.updateDialog.loading=!1,e.finish(6);case 9:e.next=22;break;case 11:if(r=Object(g["b"])(t.updateDialog.oldData,t.updateDialog.form),r.id){e.next=15;break}return t.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 15:return e.prev=15,t.updateDialog.loading=!0,e.next=19,Object(m["f"])(r.id,r);case 19:return e.prev=19,t.updateDialog.loading=!1,e.finish(19);case 22:t.updateDialog.visible=!1,t.getData(),t.resetUpdateForm(),t.$notify({title:"恭喜",message:"".concat(0===t.updateDialog.type?"创建":"更新","流程成功"),type:"success",duration:2e3});case 26:case"end":return e.stop()}}),e,null,[[2,,6,9],[15,,19,22]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetUpdateForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.updateForm;e&&e.clearValidate()})),this.updateDialog.form=JSON.parse(JSON.stringify(this.updateDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetLineForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){for(var e=t.lineDialog.form.lines.length,a=0;a<e;a++){var r=t.$refs.lineForm;r[a]&&r[a].clearValidate&&r[a].clearValidate()}})),this.lineDialog.form=JSON.parse(JSON.stringify(this.lineDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===this.updateDialog.type&&this.resetUpdateForm(),this.updateDialog.type=0,this.updateDialog.title="创建新流程",this.updateDialog.visible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.resetUpdateForm(),this.updateDialog.form.id=t.id,this.updateDialog.form.name=t.name,this.updateDialog.form.submitUserConfirm=t.submitUserConfirm,this.updateDialog.form.self=t.self,this.updateDialog.form.category=t.category,this.updateDialog.form.targetCategory=t.targetCategory,this.updateDialog.form.creator=t.creator,this.updateDialog.form.desc=t.desc,this.updateDialog.oldData=JSON.parse(JSON.stringify(this.updateDialog.form)),this.updateDialog.type=1,this.updateDialog.title="修改流程信息",this.updateDialog.visible=!0;case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleLine",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,o,l,s,c,u,p,d,f,g,v,y;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resetLineForm(),e.prev=1,e.next=4,Object(h["c"])({noPagination:!0});case 4:a=e.sent,r=a.data,this.lineDialog.roleSelectOptions=r.list,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](1),this.$message.error("读取系统角色信息失败"),e.abrupt("return");case 13:return e.prev=13,e.next=16,Object(b["e"])({noPagination:!0});case 16:n=e.sent,o=n.data,this.lineDialog.userSelectOptions=o.list,e.next=25;break;case 21:return e.prev=21,e.t1=e["catch"](13),this.$message.error("读取系统用户信息失败"),e.abrupt("return");case 25:return e.prev=25,e.next=28,Object(m["d"])({flowId:t.id,noPagination:!0});case 28:for(l=e.sent,s=l.data,c=[],u=0,p=s.list.length;u<p;u++){if(d=s.list[u],f=JSON.parse(JSON.stringify(this.defaultConfig.line)),d.roleId>0)f.roleId=d.roleId;else{for(f.roleBase=!1,g=[],v=0,y=d.userIds.length;v<y;v++)g.push(d.userIds[v]);f.userIds=g}f.id=d.id,f.name=d.name,f.edit=d.edit,c.push(Object(i["a"])(Object(i["a"])({},f),{},{roleSelectOptions:JSON.parse(JSON.stringify(this.lineDialog.roleSelectOptions)),userSelectOptions:JSON.parse(JSON.stringify(this.lineDialog.userSelectOptions))}))}this.lineDialog.form.lines=c,e.next=39;break;case 35:return e.prev=35,e.t2=e["catch"](25),this.$message.error("读取流水线信息失败"),e.abrupt("return");case 39:this.lineDialog.form.flowId=t.id,this.lineDialog.oldData=JSON.parse(JSON.stringify(this.lineDialog.form)),this.lineDialog.visible=!0;case 42:case"end":return e.stop()}}),e,this,[[1,9],[13,21],[25,35]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleRoleBaseChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=this.lineDialog.form.lines[t].roleBase,a?this.lineDialog.form.lines[t].userIds=[]:this.lineDialog.form.lines[t].roleId="";case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"lineCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.lineDialog.form.lines.push(Object(i["a"])(Object(i["a"])({},this.defaultConfig.line),{},{roleSelectOptions:JSON.parse(JSON.stringify(this.lineDialog.roleSelectOptions)),userSelectOptions:JSON.parse(JSON.stringify(this.lineDialog.userSelectOptions))}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"lineDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.lineDialog.form.lines.splice(t,1);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"doLine",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,l,s,c,u,p,d,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=this.lineDialog.form.lines.length,a=0,r=0;r<t;r++)n=this.$refs.lineForm,n[r]&&n[r].validate&&n[r].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t&&a++;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if(a!==t){e.next=23;break}if(l=Object(g["a"])(this.lineDialog.oldData.lines,this.lineDialog.form.lines),0!==l.create.length||0!==l.update.length||0!==l.delete.length){e.next=8;break}return this.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 8:for(s=0,c=l.create.length;s<c;s++)""===l.create[s].roleId&&(l.create[s].roleId=0);for(u=0,p=l.update.length;u<p;u++)""===l.update[u].roleId&&(l.update[u].roleId=0);for(d=0,f=l.delete.length;d<f;d++)""===l.delete[d].roleId&&(l.delete[d].roleId=0);return h=Object(i["a"])({flowId:this.lineDialog.form.flowId},l),e.prev=12,this.lineDialog.loading=!0,e.next=16,Object(m["g"])(h);case 16:return e.prev=16,this.lineDialog.loading=!1,e.finish(16);case 19:this.lineDialog.visible=!1,this.getData(),this.resetLineForm(),this.$notify({title:"恭喜",message:"".concat(0===this.lineDialog.type?"创建":"更新","流程流水线成功"),type:"success",duration:2e3});case 23:case"end":return e.stop()}}),e,this,[[12,,16,19]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelLine",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.lineDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"handleBatchDelete",value:function(){this.batchDelete(this.table.selection)}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.name);a.length>0&&(s="确定要删除流程[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["a"])(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleSubmitUserConfirmChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="确定要恢复流程[".concat(t.name,"][提交人确认]吗?"),0==t.submitUserConfirm&&(a="确定要禁用流程[".concat(t.name,"][提交人确认]吗?")),this.$confirm(a,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["f"])(t.id,{submitUserConfirm:t.submitUserConfirm});case 2:r.getData();case 3:case"end":return e.stop()}}),e)})))).catch((function(){t.submitUserConfirm=0==t.submitUserConfirm?1:0}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleSelfChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="确定要恢复流程[".concat(t.name,"][自我审批]吗?"),0==t.self&&(a="确定要禁用流程[".concat(t.name,"][自我审批]吗?")),this.$confirm(a,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["f"])(t.id,{self:t.self});case 2:r.getData();case 3:case"end":return e.stop()}}),e)})))).catch((function(){t.self=0==t.self?1:0}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}}]),a}(d["c"]);v=Object(p["a"])([Object(d["a"])({name:"Workflow",components:{Pagination:f["a"]}})],v);var y=v,w=y,k=(a("740a"),a("2877")),D=Object(k["a"])(w,r,n,!1,null,"2459f62b",null);t["default"]=D.exports},"61cb":function(e,t,a){"use strict";var r=a("84ae"),n=a.n(r);n.a},"65c7":function(e,t,a){"use strict";var r=a("5447"),n=a.n(r);n.a},"6bfe":function(e,t,a){},"740a":function(e,t,a){"use strict";var r=a("ad3b"),n=a.n(r);n.a},7484:function(e,t,a){e.exports=a.p+"img/401.089007e7.gif"},"7a23":function(e,t,a){"use strict";var r=a("3545"),n=a.n(r);n.a},"7e62":function(e,t,a){},"7f3d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"访问路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"访问路径",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.path,callback:function(t){e.$set(e.table.form,"path","string"===typeof t?t.trim():t)},expression:"table.form.path"}})],1),a("el-form-item",{attrs:{label:"请求方式",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择请求方式",clearable:""},on:{clear:e.doSearch,change:e.doSearch},model:{value:e.table.form.method,callback:function(t){e.$set(e.table.form,"method","string"===typeof t?t.trim():t)},expression:"table.form.method"}},e._l(e.defaultConfig.methods,(function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"所属类别",prop:"category"}},[a("el-input",{attrs:{placeholder:"所属类别",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.category,callback:function(t){e.$set(e.table.form,"category","string"===typeof t?t.trim():t)},expression:"table.form.category"}})],1),a("el-form-item",{attrs:{label:"创建人",prop:"creator"}},[a("el-input",{attrs:{placeholder:"创建人",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.creator,callback:function(t){e.$set(e.table.form,"creator","string"===typeof t?t.trim():t)},expression:"table.form.creator"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" 新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.table.batchDeleteBtnDisabled},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"path",label:"访问路径",sortable:""}}),a("el-table-column",{attrs:{prop:"category",label:"所属类别",sortable:""}}),a("el-table-column",{attrs:{prop:"method",label:"请求方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.getMethodTagType(t.row.method)}},[e._v(" "+e._s(t.row.method)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"desc",label:"说明"}}),a("el-table-column",{attrs:{prop:"creator",label:"创建人"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.updateDialog.title,visible:e.updateDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.updateDialog,"visible",t)}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateDialog.form,rules:e.updateDialog.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"访问路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入接口访问路径"},model:{value:e.updateDialog.form.path,callback:function(t){e.$set(e.updateDialog.form,"path","string"===typeof t?t.trim():t)},expression:"updateDialog.form.path"}})],1),a("el-form-item",{attrs:{label:"所属类别",prop:"category"}},[a("el-input",{attrs:{placeholder:"请输入接口所属类别"},model:{value:e.updateDialog.form.category,callback:function(t){e.$set(e.updateDialog.form,"category","string"===typeof t?t.trim():t)},expression:"updateDialog.form.category"}})],1),a("el-form-item",{attrs:{label:"请求方式",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择请求方式"},model:{value:e.updateDialog.form.method,callback:function(t){e.$set(e.updateDialog.form,"method","string"===typeof t?t.trim():t)},expression:"updateDialog.form.method"}},e._l(e.defaultConfig.methods,(function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),0===e.updateDialog.type?a("el-form-item",{attrs:{label:"访问授权",prop:"showRoleSelect"}},[a("el-switch",{model:{value:e.updateDialog.form.showRoleSelect,callback:function(t){e.$set(e.updateDialog.form,"showRoleSelect","string"===typeof t?t.trim():t)},expression:"updateDialog.form.showRoleSelect"}}),a("el-tag",[e._v("可避免到角色管理中添加")])],1):e._e(),e.updateDialog.form.showRoleSelect?a("el-form-item",{attrs:{label:"绑定角色",prop:"roleIds"}},[a("el-select",{attrs:{clearable:"",filterable:"",multiple:"",placeholder:"请选择角色"},model:{value:e.updateDialog.form.roleIds,callback:function(t){e.$set(e.updateDialog.form,"roleIds","string"===typeof t?t.trim():t)},expression:"updateDialog.form.roleIds"}},e._l(e.updateDialog.roleSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"("+e.desc+")",value:e.id}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.updateDialog.form.desc,callback:function(t){e.$set(e.updateDialog.form,"desc","string"===typeof t?t.trim():t)},expression:"updateDialog.form.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.updateDialog.loading},on:{click:e.doUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelUpdate}},[e._v(" 取 消 ")])],1)],1)],1)},n=[],i=(a("a15b"),a("b0c0"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("333d"),m=a("44df"),g=a("3490"),h=a("3737"),b=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5,methods:[{name:"GET",label:"GET[获取资源]",type:""},{name:"POST",label:"POST[创建资源]",type:"success"},{name:"PUT",label:"PUT[创建/更新资源]",type:"info"},{name:"PATCH",label:"PATCH[创建/更新资源(区别于PUT, 增量更新)]",type:"warning"},{name:"DELETE",label:"DELETE[删除资源]",type:"danger"}]},e.updateDialog={loading:!1,type:0,visible:!1,title:"",roleSelectOptions:[],defaultForm:{id:0,path:"",method:"",category:"",desc:"",showRoleSelect:!1,roleIds:[]},form:{},oldData:{},rules:{path:[{required:!0,message:"访问路径不能为空",trigger:"blur"}],method:[{required:!0,message:"请求方式不能为空",trigger:"blur"}],category:[{required:!0,message:"所属类别不能为空",trigger:"blur"},{validator:e.validateCategory,trigger:"blur"}]}},e.table={loading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{path:"",method:"",category:"",desc:""}},e}return Object(s["a"])(a,[{key:"validateCategory",value:function(e,t,a){/^[a-zA-Z]/.test(t)?/^[a-zA-Z]([-_a-zA-Z0-9])+$/.test(t)?a():a(new Error("不允许出现汉字或特殊字符, 如a+,sa、a张三")):a(new Error("必须以字母开头, 如a12345"))}},{key:"created",value:function(){this.resetUpdateForm(),this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,Object(m["d"])(t);case 6:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 12:return e.prev=12,this.table.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.updateForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=26;break}if(0!==t.updateDialog.type){e.next=11;break}return e.prev=2,t.updateDialog.loading=!0,e.next=6,Object(m["b"])(t.updateDialog.form);case 6:return e.prev=6,t.updateDialog.loading=!1,e.finish(6);case 9:e.next=22;break;case 11:if(r=Object(g["b"])(t.updateDialog.oldData,t.updateDialog.form),r.id){e.next=15;break}return t.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 15:return e.prev=15,t.updateDialog.loading=!0,e.next=19,Object(m["e"])(r.id,r);case 19:return e.prev=19,t.updateDialog.loading=!1,e.finish(19);case 22:t.updateDialog.visible=!1,t.getData(),t.resetUpdateForm(),t.$notify({title:"恭喜",message:"".concat(0===t.updateDialog.type?"创建":"更新","接口成功"),type:"success",duration:2e3});case 26:case"end":return e.stop()}}),e,null,[[2,,6,9],[15,,19,22]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetUpdateForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.updateForm;e&&e.clearValidate()})),this.updateDialog.form=JSON.parse(JSON.stringify(this.updateDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===this.updateDialog.type&&this.resetUpdateForm(),this.updateDialog.type=0,this.updateDialog.title="创建新接口",this.updateDialog.visible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"showRoleSelectChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.updateDialog.form.showRoleSelect){e.next=12;break}return e.prev=1,e.next=4,Object(h["c"])({noPagination:!0});case 4:t=e.sent,a=t.data,this.updateDialog.roleSelectOptions=a.list,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),this.$message.error("读取系统角色信息失败");case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.resetUpdateForm(),this.updateDialog.form.id=t.id,this.updateDialog.form.path=t.path,this.updateDialog.form.method=t.method,this.updateDialog.form.category=t.category,this.updateDialog.form.creator=t.creator,this.updateDialog.form.desc=t.desc,this.updateDialog.oldData=JSON.parse(JSON.stringify(this.updateDialog.form)),this.updateDialog.type=1,this.updateDialog.title="修改接口信息",this.updateDialog.visible=!0;case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"handleBatchDelete",value:function(){this.batchDelete(this.table.selection)}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.path);a.length>0&&(s="确定要删除接口[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["a"])(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}},{key:"getMethodTagType",value:function(e){for(var t=0,a=this.defaultConfig.methods.length;t<a;t++){var r=this.defaultConfig.methods[t];if(e===r.name)return r.type}return""}}]),a}(d["c"]);Object(p["a"])([Object(d["d"])("updateDialog.form.showRoleSelect")],b.prototype,"showRoleSelectChange",null),b=Object(p["a"])([Object(d["a"])({name:"Api",components:{Pagination:f["a"]}})],b);var v=b,y=v,w=(a("96c4"),a("2877")),k=Object(w["a"])(y,r,n,!1,null,"3a472eb8",null);t["default"]=k.exports},"84ae":function(e,t,a){},"86fa":function(e,t,a){},8767:function(e,t,a){},"8adb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("创建新消息")]),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text",loading:e.table.pushLoading},on:{click:e.pushMessage}},[a("i",{staticClass:"el-icon-s-promotion"},[e._v("立即发送")])])],1),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"messageForm",attrs:{rules:e.table.rules,model:e.table.form}},[a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择消息类型",clearable:""},model:{value:e.table.form.type,callback:function(t){e.$set(e.table.form,"type","string"===typeof t?t.trim():t)},expression:"table.form.type"}},e._l(e.defaultConfig.types,(function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),0===e.table.form.type?a("el-form-item",{attrs:{label:"接收人",prop:"toUserIds"}},[a("el-select",{attrs:{placeholder:"请选择消息接收人(输入用户昵称可直接搜索)",multiple:"",filterable:"",remote:"",clearable:"","remote-method":e.getUserData,loading:e.table.userLoading},model:{value:e.table.form.toUserIds,callback:function(t){e.$set(e.table.form,"toUserIds","string"===typeof t?t.trim():t)},expression:"table.form.toUserIds"}},e._l(e.table.userSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.nickname+"(用户名: "+e.username+", 手机号: "+e.mobile+")",value:e.id}})})),1)],1):e._e(),1===e.table.form.type?a("el-form-item",{attrs:{label:"接收角色",prop:"toRoleIds"}},[a("el-select",{attrs:{placeholder:"请选择消息接收角色(输入角色名可直接搜索)",multiple:"",filterable:"",remote:"",clearable:"","remote-method":e.getRoleData,loading:e.table.roleLoading},model:{value:e.table.form.toRoleIds,callback:function(t){e.$set(e.table.form,"toRoleIds","string"===typeof t?t.trim():t)},expression:"table.form.toRoleIds"}},e._l(e.table.roleSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"("+e.desc+")",value:e.id}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入消息标题",clearable:""},model:{value:e.table.form.title,callback:function(t){e.$set(e.table.form,"title","string"===typeof t?t.trim():t)},expression:"table.form.title"}})],1),a("el-form-item",{attrs:{label:"内容",prop:"title"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入消息内容(255个字符以内)",clearable:""},model:{value:e.table.form.content,callback:function(t){e.$set(e.table.form,"content","string"===typeof t?t.trim():t)},expression:"table.form.content"}})],1)],1)],1)],1)},n=[],i=(a("b0c0"),a("96cf"),a("1da1")),o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=a("9ab4"),p=a("60a3"),d=a("984e"),f=a("3737"),m=a("afe9"),g=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={types:[{name:0,label:"私信消息(一对一)"},{name:1,label:"通知消息(一对多)"},{name:2,label:"系统消息(一对全部)"}],status:[{name:0,label:"未读",type:"danger"},{name:1,label:"已读",type:"success"}]},e.table={userLoading:!1,roleLoading:!1,pushLoading:!1,userSelectOptions:[],roleSelectOptions:[],form:{type:"",toUserIds:[],toRoleIds:[],title:"",content:""},rules:{type:[{required:!0,message:"类型不能为空",trigger:"blur"}],toUserIds:[{required:!0,message:"接收人不能为空",trigger:"blur"}],toRoleIds:[{required:!0,message:"接收角色不能为空",trigger:"blur"}],title:[{required:!0,message:"标题不能为空",trigger:"blur"}],content:[{required:!0,message:"内容不能为空",trigger:"blur"}]}},e}return Object(l["a"])(a,[{key:"pushMessage",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.messageForm.validate(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a)try{t.table.pushLoading=!0,m["a"].Send({type:2,data:t.table.form}),t.$notify({title:"恭喜",message:"发送消息成功",type:"success",duration:2e3})}catch(r){t.$message({type:"error",message:"发送消息失败: "+r})}finally{t.table.pushLoading=!1}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getUserData",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t){e.next=17;break}return this.table.userLoading=!0,e.prev=2,e.next=5,Object(d["e"])({nickname:t,noPagination:!0});case 5:a=e.sent,r=a.data,this.table.userSelectOptions=r.list,e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](2),this.$message.error("读取系统用户信息失败"),e.abrupt("return");case 14:return e.prev=14,this.table.userLoading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[2,10,14,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getRoleData",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""===t){e.next=18;break}return this.table.roleLoading=!0,e.prev=2,e.next=5,Object(f["c"])({name:t,noPagination:!0});case 5:a=e.sent,r=a.data,this.table.roleSelectOptions=r.list,e.next=15;break;case 10:return e.prev=10,e.t0=e["catch"](2),console.warn(e.t0),this.$message.error("读取系统角色信息失败"),e.abrupt("return");case 15:return e.prev=15,this.table.roleLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,10,15,18]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getTypeTagLabel",value:function(e){for(var t=0,a=this.defaultConfig.types.length;t<a;t++){var r=this.defaultConfig.types[t];if(e===r.name)return r.label}return""}},{key:"getStatusTagType",value:function(e){for(var t=0,a=this.defaultConfig.status.length;t<a;t++){var r=this.defaultConfig.status[t];if(e===r.name)return r.type}return""}},{key:"getStatusTagLabel",value:function(e){for(var t=0,a=this.defaultConfig.status.length;t<a;t++){var r=this.defaultConfig.status[t];if(e===r.name)return r.label}return""}}]),a}(p["c"]);g=Object(u["a"])([Object(p["a"])({name:"MessagePush"})],g);var h=g,b=h,v=(a("b9dc"),a("2877")),y=Object(v["a"])(b,r,n,!1,null,"e33ae9bc",null);t["default"]=y.exports},"8e27":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"访问路径",prop:"path"}},[a("el-input",{attrs:{placeholder:"访问路径",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.path,callback:function(t){e.$set(e.table.form,"path","string"===typeof t?t.trim():t)},expression:"table.form.path"}})],1),a("el-form-item",{attrs:{label:"请求方式",prop:"method"}},[a("el-select",{attrs:{placeholder:"请选择请求方式",clearable:""},on:{clear:e.doSearch,change:e.doSearch},model:{value:e.table.form.method,callback:function(t){e.$set(e.table.form,"method","string"===typeof t?t.trim():t)},expression:"table.form.method"}},e._l(e.defaultConfig.methods,(function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"用户名",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.username,callback:function(t){e.$set(e.table.form,"username","string"===typeof t?t.trim():t)},expression:"table.form.username"}})],1),a("el-form-item",{attrs:{label:"IP",prop:"ip"}},[a("el-input",{attrs:{placeholder:"IP地址",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.ip,callback:function(t){e.$set(e.table.form,"ip","string"===typeof t?t.trim():t)},expression:"table.form.ip"}})],1),a("el-form-item",{attrs:{label:"状态码",prop:"status"}},[a("el-input",{attrs:{placeholder:"响应状态码",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.status,callback:function(t){e.$set(e.table.form,"status","string"===typeof t?t.trim():t)},expression:"table.form.status"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.table.batchDeleteBtnDisabled},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"apiDesc",label:"接口说明",width:"180"}}),a("el-table-column",{attrs:{prop:"path",label:"访问路径",width:"120"}}),a("el-table-column",{attrs:{prop:"method",label:"请求方式",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.getMethodTagType(t.row.method)}},[e._v(" "+e._s(t.row.method)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"状态码",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.status<300?a("el-tag",{attrs:{type:"success"}},[e._v(" "+e._s(t.row.status)+" ")]):t.row.status<400?a("el-tag",{attrs:{type:"warning"}},[e._v(" "+e._s(t.row.status)+" ")]):t.row.status<500?a("el-tag",{attrs:{type:"info"}},[e._v(" "+e._s(t.row.status)+" ")]):a("el-tag",{attrs:{type:"danger"}},[e._v(" "+e._s(t.row.status)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"username",label:"登录用户",align:"center"}}),a("el-table-column",{attrs:{prop:"roleName",label:"角色",align:"center"}}),a("el-table-column",{attrs:{prop:"ip",label:"IP",align:"center"}}),a("el-table-column",{attrs:{prop:"ipLocation",label:"IP所在地",align:"center"}}),a("el-table-column",{attrs:{prop:"latency",label:"请求耗时(毫秒)",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s((t.row.latency/1e6).toFixed(2))+" ")]}}])}),a("el-table-column",{attrs:{prop:"createdAt",label:"访问时间",align:"center",width:"180"}}),a("el-table-column",{attrs:{prop:"userAgent",label:"浏览器标识",align:"center",width:"180","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"body",label:"请求参数",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"svg-container",attrs:{title:"查看详情"}},[a("svg-icon",{attrs:{name:"eye-on"},on:{click:function(a){return e.showJson(1,t.row)}}})],1)]}}])}),a("el-table-column",{attrs:{prop:"data",label:"响应数据",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"svg-container",attrs:{title:"查看详情"}},[a("svg-icon",{attrs:{name:"eye-on"},on:{click:function(a){return e.showJson(2,t.row)}}})],1)]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.jsonDialog.title,visible:e.jsonDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.jsonDialog,"visible",t)}}},[a("json-view",{attrs:{data:e.jsonDialog.data}}),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.jsonDialog.visible=!1}}},[e._v(" 确 定 ")])],1)],1)],1)},n=[],i=(a("a15b"),a("b0c0"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("1b37"),m=a.n(f),g=a("333d"),h=a("b32d"),b=function(e){return Object(h["a"])({url:"/operation/log/list",method:"get",params:e})},v=function(e){return Object(h["a"])({url:"/operation/log/delete/batch",method:"delete",params:{ids:e}})},y=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5,methods:[{name:"POST",label:"POST[创建资源]",type:"success"},{name:"PUT",label:"PUT[创建/更新资源]",type:"info"},{name:"PATCH",label:"PATCH[创建/更新资源(区别于PUT, 增量更新)]",type:"warning"},{name:"DELETE",label:"DELETE[删除资源]",type:"danger"}]},e.jsonDialog={loading:!1,visible:!1,title:"",data:{}},e.table={loading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{path:"",method:"",username:"",ip:"",status:""}},e}return Object(s["a"])(a,[{key:"validateCategory",value:function(e,t,a){/^[a-zA-Z]/.test(t)?/^[a-zA-Z]([-_a-zA-Z0-9])+$/.test(t)?a():a(new Error("不允许出现汉字或特殊字符, 如a+,sa、a张三")):a(new Error("必须以字母开头, 如a12345"))}},{key:"created",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,b(t);case 6:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 12:return e.prev=12,this.table.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"handleBatchDelete",value:function(){this.batchDelete(this.table.selection)}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.path);a.length>0&&(s="确定要删除操作日志[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"showJson",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===t?(this.jsonDialog.title="请求参数详细内容",this.jsonDialog.data=JSON.parse(a.body)):(this.jsonDialog.title="响应数据详细内容",this.jsonDialog.data=JSON.parse(a.data)),this.jsonDialog.visible=!0;case 2:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}},{key:"getMethodTagType",value:function(e){for(var t=0,a=this.defaultConfig.methods.length;t<a;t++){var r=this.defaultConfig.methods[t];if(e===r.name)return r.type}return""}}]),a}(d["c"]);y=Object(p["a"])([Object(d["a"])({name:"OperationLog",components:{Pagination:g["a"],jsonView:m.a}})],y);var w=y,k=w,D=(a("10b3"),a("2877")),x=Object(D["a"])(k,r,n,!1,null,"73b37c66",null);t["default"]=x.exports},9406:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"tips"},[a("h5",[e._v("以下是目前找到的性价比最高的服务器, 首次成功购买我能得到一点奖励, 非常感谢, 以后有更好的会推荐给大家")]),e._m(0),a("p",[a("el-link",{attrs:{href:"https://www.ucloud.cn/site/active/1111.html?invitation_code=C1x8863BB6C7A1E",target:"_blank",type:"primary"}},[e._v(" https://www.ucloud.cn/site/active/1111.html?invitation_code=C1x8863BB6C7A1E ")])],1),e._m(1),a("p",[a("el-link",{attrs:{href:"https://www.ucloud.cn/site/global.html?invitation_code=C1x8863BB6C7A1E",target:"_blank",type:"primary"}},[e._v(" https://www.ucloud.cn/site/global.html?invitation_code=C1x8863BB6C7A1E ")])],1)])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("UCloud国内服务器(领劵最低只要"),a("span",{staticClass:"special"},[e._v("88元/年")]),e._v("):")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("UCloud全球"),a("span",{staticClass:"special"},[e._v("免备案")]),e._v("服务器(领劵最低只要"),a("span",{staticClass:"special"},[e._v("150元/年")]),e._v("):")])}],i=(a("65c7"),a("2877")),o={},l=Object(i["a"])(o,r,n,!1,null,"efad2778",null);t["default"]=l.exports},"95f3":function(e,t,a){"use strict";var r=a("3b8c"),n=a.n(r);n.a},"96c4":function(e,t,a){"use strict";var r=a("7e62"),n=a.n(r);n.a},"9ca7":function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"g",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"a",(function(){return p}));var r=a("b32d"),n=function(e){return Object(r["a"])({url:"/workflow/list",method:"get",params:e})},i=function(e){return Object(r["a"])({url:"/workflow/line/list",method:"get",params:e})},o=function(e){return Object(r["a"])({url:"/workflow/approving/list",method:"get",params:e})},l=function(e){return Object(r["a"])({url:"/workflow/create",method:"post",data:e})},s=function(e){return Object(r["a"])({url:"/workflow/line/update",method:"patch",data:e})},c=function(e,t){return Object(r["a"])({url:"/workflow/update/".concat(e),method:"patch",data:t})},u=function(e){return Object(r["a"])({url:"/workflow/log/approval",method:"patch",data:e})},p=function(e){return Object(r["a"])({url:"/workflow/delete/batch",method:"delete",params:{ids:e}})}},"9ed6":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v(" "+e._s(e.$t("login.title"))+" ")]),a("lang-select",{staticClass:"set-language"})],1),a("el-form-item",{attrs:{prop:"username"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{name:"user"}})],1),a("el-input",{ref:"username",attrs:{placeholder:e.$t("login.username"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[a("el-form-item",{attrs:{prop:"password"}},[a("span",{staticClass:"svg-container"},[a("svg-icon",{attrs:{name:"password"}})],1),a("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("svg-icon",{attrs:{name:"password"===e.passwordType?"eye-off":"eye-on"}})],1)],1)],1),a("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" "+e._s(e.$t("login.logIn"))+" ")]),a("div",{staticStyle:{position:"relative"}},[a("div",{staticClass:"tips"},[a("span",[e._v(e._s(e.$t("login.username"))+" : admin ")]),a("span",[e._v(e._s(e.$t("login.password"))+" : 123456 ")])]),a("div",{staticClass:"tips"},[a("span",[e._v(e._s(e.$t("login.username"))+" : zhangsan ")]),a("span",[e._v(e._s(e.$t("login.password"))+" : 123456 ")])]),a("div",{staticClass:"tips"},[a("span",[e._v(e._s(e.$t("login.username"))+" : lisi ")]),a("span",[e._v(e._s(e.$t("login.password"))+" : 123456 ")])]),a("el-button",{staticClass:"thirdparty-button",attrs:{type:"primary"},on:{click:function(t){e.showDialog=!0}}},[e._v(" "+e._s(e.$t("login.thirdparty"))+" ")])],1)],1),a("el-dialog",{attrs:{title:e.$t("login.thirdparty"),visible:e.showDialog},on:{"update:visible":function(t){e.showDialog=t}}},[e._v(" "+e._s(e.$t("login.thirdpartyTips"))+" "),a("br"),a("br"),a("br"),a("social-sign")],1)],1)},n=[],i=(a("13d5"),a("b64b"),a("96cf"),a("1da1")),o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=a("9ab4"),p=a("60a3"),d=a("9dba"),f=a("75fb"),m=a("1131"),g=a("c62e"),h=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.validateUsername=function(e,t,a){Object(f["c"])(t)?a():a(new Error("Please enter the correct user name"))},e.validatePassword=function(e,t,a){t.length<6?a(new Error("The password can not be less than 6 digits")):a()},e.loginForm={username:"admin",password:"123456"},e.loginRules={username:[{validator:e.validateUsername,trigger:"blur"}],password:[{validator:e.validatePassword,trigger:"blur"}]},e.passwordType="password",e.loading=!1,e.showDialog=!1,e.capsTooltip=!1,e.otherQuery={},e}return Object(l["a"])(a,[{key:"onRouteChange",value:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))}},{key:"mounted",value:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()}},{key:"checkCapslock",value:function(e){var t=e.key;this.capsTooltip=null!==t&&1===t.length&&t>="A"&&t<="Z"}},{key:"showPwd",value:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))}},{key:"handleLogin",value:function(){var e=this;this.$refs.loginForm.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=11;break}return e.loading=!0,t.prev=2,t.next=5,d["a"].Login(e.loginForm);case 5:e.$router.push({path:e.redirect||"/",query:e.otherQuery});case 6:return t.prev=6,e.loading=!1,t.finish(6);case 9:t.next=12;break;case 11:return t.abrupt("return",!1);case 12:case"end":return t.stop()}}),t,null,[[2,,6,9]])})));return function(e){return t.apply(this,arguments)}}())}},{key:"getOtherQuery",value:function(e){return Object.keys(e).reduce((function(t,a){return"redirect"!==a&&(t[a]=e[a]),t}),{})}}]),a}(p["c"]);Object(u["a"])([Object(p["d"])("$route",{immediate:!0})],h.prototype,"onRouteChange",null),h=Object(u["a"])([Object(p["a"])({name:"Login",components:{LangSelect:m["a"],SocialSign:g["default"]}})],h);var b=h,v=b,y=(a("2017"),a("0914"),a("2877")),w=Object(y["a"])(v,r,n,!1,null,"b732693c",null);t["default"]=w.exports},a048:function(e,t,a){e.exports={menuBg:"#304156",menuText:"#bfcbd9",menuActiveText:"#409eff"}},a1ba:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" "+e._s(e.b=e.b.b)+" ")])},n=[],i=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("60a3"),u=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return a}(c["c"]);u=Object(s["a"])([Object(c["a"])({name:"ErrorTestB"})],u);var p=u,d=p,f=a("2877"),m=Object(f["a"])(d,r,n,!1,null,null,null);t["default"]=m.exports},a83b:function(e,t,a){"use strict";var r=a("a048"),n=a.n(r);n.a},a8c4:function(e,t,a){var r={"./views/dashboard":"9406","./views/dashboard/":"9406","./views/dashboard/index":"9406","./views/dashboard/index.vue":"9406","./views/error-log":"c273","./views/error-log/":"c273","./views/error-log/components/ErrorTestA":"ce2f","./views/error-log/components/ErrorTestA.vue":"ce2f","./views/error-log/components/ErrorTestB":"a1ba","./views/error-log/components/ErrorTestB.vue":"a1ba","./views/error-log/index":"c273","./views/error-log/index.vue":"c273","./views/error-page/401":"24e2","./views/error-page/401.vue":"24e2","./views/error-page/404":"1db4","./views/error-page/404.vue":"1db4","./views/login":"9ed6","./views/login/":"9ed6","./views/login/auth-redirect":"b829","./views/login/auth-redirect.vue":"b829","./views/login/components/SocialSignin":"c62e","./views/login/components/SocialSignin.vue":"c62e","./views/login/index":"9ed6","./views/login/index.vue":"9ed6","./views/message":"1d11","./views/message/":"1d11","./views/message/index":"1d11","./views/message/index.vue":"1d11","./views/profile":"ecac","./views/profile/":"ecac","./views/profile/components/Account":"e206","./views/profile/components/Account.vue":"e206","./views/profile/components/Password":"d742","./views/profile/components/Password.vue":"d742","./views/profile/components/UserCard":"7faf","./views/profile/components/UserCard.vue":"7faf","./views/profile/index":"ecac","./views/profile/index.vue":"ecac","./views/redirect":"ef3c","./views/redirect/":"ef3c","./views/redirect/index":"ef3c","./views/redirect/index.vue":"ef3c","./views/system/api":"7f3d","./views/system/api.vue":"7f3d","./views/system/menu":"5d8a","./views/system/menu.vue":"5d8a","./views/system/message-push":"8adb","./views/system/message-push.vue":"8adb","./views/system/operation-log":"8e27","./views/system/operation-log.vue":"8e27","./views/system/role":"f982","./views/system/role.vue":"f982","./views/system/user":"b979","./views/system/user.vue":"b979","./views/system/workflow":"5f60","./views/system/workflow.vue":"5f60","./views/test":"feda","./views/test/":"feda","./views/test/approving":"c2f7","./views/test/approving.vue":"c2f7","./views/test/index":"feda","./views/test/index.vue":"feda","./views/test/leave":"c907","./views/test/leave.vue":"c907","./views/theme":"d63e","./views/theme/":"d63e","./views/theme/index":"d63e","./views/theme/index.vue":"d63e","./views/uploader/uploader1":"005d","./views/uploader/uploader1.vue":"005d","./views/uploader/uploader2":"dfe0","./views/uploader/uploader2.vue":"dfe0"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id="a8c4"},ab10:function(e,t,a){e.exports={menuBg:"#304156",menuText:"#bfcbd9",menuActiveText:"#409eff"}},ad3b:function(e,t,a){},b320:function(e,t,a){"use strict";var r=a("d0c1"),n=a.n(r);n.a},b7dd:function(e,t,a){"use strict";var r=a("2e7e"),n=a.n(r);n.a},b829:function(e,t,a){"use strict";a.r(t);a("fb6a"),a("ac1f"),a("841c");var r=a("d4ec"),n=a("bee2"),i=a("262e"),o=a("2caf"),l=a("9ab4"),s=a("60a3"),c=function(e){Object(i["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(n["a"])(a,[{key:"created",value:function(){var e=window.location.search.slice(1);window.localStorage&&(window.localStorage.setItem("x-admin-oauth-code",e),window.close())}},{key:"render",value:function(){}}]),a}(s["c"]);c=Object(l["a"])([Object(s["a"])({name:"AuthRedirect"})],c);var u,p,d=c,f=d,m=a("2877"),g=Object(m["a"])(f,u,p,!1,null,null,null);t["default"]=g.exports},b8bd:function(e,t,a){"use strict";var r=a("26e0"),n=a.n(r);n.a},b979:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"用户名",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.username,callback:function(t){e.$set(e.table.form,"username","string"===typeof t?t.trim():t)},expression:"table.form.username"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"手机号",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.mobile,callback:function(t){e.$set(e.table.form,"mobile","string"===typeof t?t.trim():t)},expression:"table.form.mobile"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"昵称",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.nickname,callback:function(t){e.$set(e.table.form,"nickname","string"===typeof t?t.trim():t)},expression:"table.form.nickname"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{clearable:"",placeholder:"用户状态"},model:{value:e.table.form.status,callback:function(t){e.$set(e.table.form,"status","string"===typeof t?t.trim():t)},expression:"table.form.status"}},[a("el-option",{key:"1",attrs:{label:"正常",value:1}}),a("el-option",{key:"0",attrs:{label:"禁用",value:0}})],1)],1),a("el-form-item",{attrs:{label:"创建人",prop:"creator"}},[a("el-input",{attrs:{placeholder:"创建人",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.creator,callback:function(t){e.$set(e.table.form,"creator","string"===typeof t?t.trim():t)},expression:"table.form.creator"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" 新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.table.batchDeleteBtnDisabled},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"username",label:"用户名",sortable:""}}),a("el-table-column",{attrs:{prop:"mobile",label:"手机号",sortable:""}}),a("el-table-column",{attrs:{prop:"nickname",label:"昵称"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status","string"===typeof a?a.trim():a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"creator",label:"创建人"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.updateDialog.title,visible:e.updateDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.updateDialog,"visible",t)}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateDialog.form,rules:e.updateDialog.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入用户名(用于登录系统)"},model:{value:e.updateDialog.form.username,callback:function(t){e.$set(e.updateDialog.form,"username","string"===typeof t?t.trim():t)},expression:"updateDialog.form.username"}})],1),0===e.updateDialog.type?a("el-form-item",{attrs:{label:"初始密码",prop:"initPassword"}},[a("el-input",{attrs:{placeholder:"请输入用户初始密码(用于登录系统)"},model:{value:e.updateDialog.form.initPassword,callback:function(t){e.$set(e.updateDialog.form,"initPassword","string"===typeof t?t.trim():t)},expression:"updateDialog.form.initPassword"}})],1):e._e(),a("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.updateDialog.form.mobile,callback:function(t){e.$set(e.updateDialog.form,"mobile","string"===typeof t?t.trim():t)},expression:"updateDialog.form.mobile"}})],1),a("el-form-item",{attrs:{label:"绑定角色",prop:"roleId"}},[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请为该用户指定角色"},model:{value:e.updateDialog.form.roleId,callback:function(t){e.$set(e.updateDialog.form,"roleId","string"===typeof t?t.trim():t)},expression:"updateDialog.form.roleId"}},e._l(e.updateDialog.roleSelectOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name+"("+e.desc+")",value:e.id}})})),1)],1),1===e.updateDialog.type?a("el-form-item",{attrs:{label:"重置密码",prop:"newPassword"}},[a("el-input",{attrs:{placeholder:"请输入新的用户密码"},model:{value:e.updateDialog.form.newPassword,callback:function(t){e.$set(e.updateDialog.form,"newPassword","string"===typeof t?t.trim():t)},expression:"updateDialog.form.newPassword"}})],1):e._e(),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.updateDialog.form.nickname,callback:function(t){e.$set(e.updateDialog.form,"nickname","string"===typeof t?t.trim():t)},expression:"updateDialog.form.nickname"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"正常","inactive-text":"禁用"},model:{value:e.updateDialog.form.status,callback:function(t){e.$set(e.updateDialog.form,"status","string"===typeof t?t.trim():t)},expression:"updateDialog.form.status"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.updateDialog.loading},on:{click:e.doUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelUpdate}},[e._v(" 取 消 ")])],1)],1)],1)},n=[],i=(a("a15b"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("333d"),m=a("984e"),g=a("3490"),h=a("3737"),b=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5},e.updateDialog={loading:!1,type:0,visible:!1,title:"",roleSelectOptions:[],defaultForm:{id:0,username:"",initPassword:"",newPassword:"",mobile:"",nickname:"",status:1,creator:"",roleId:""},form:{},oldData:{},rules:{username:[{required:!0,message:"用户名不能为空",trigger:"blur"},{min:4,message:"用户名至少4个字符",trigger:"blur"},{max:20,message:"用户名至多20个字符",trigger:"blur"},{validator:e.validateUsername,trigger:"blur"}],initPassword:[{required:!0,message:"用户初始密码不能为空",trigger:"blur"},{min:6,message:"用户初始密码至少6个字符",trigger:"blur"}],mobile:[{required:!0,message:"手机号不能为空",trigger:"blur"},{validator:e.validateMobile,trigger:"blur"}],roleId:[{required:!0,message:"请为用户绑定角色",trigger:"blur"}],newPassword:[{min:6,message:"重置用户密码至少6个字符",trigger:"blur"}]}},e.table={loading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{username:"",mobile:"",nickname:"",status:"",creator:""}},e}return Object(s["a"])(a,[{key:"validateUsername",value:function(e,t,a){/^[a-zA-Z]/.test(t)?/^[a-zA-Z]([-_a-zA-Z0-9])+$/.test(t)?a():a(new Error("不允许出现汉字或特殊字符, 如a+,sa、a张三")):a(new Error("必须以字母开头, 如a12345"))}},{key:"validateMobile",value:function(e,t,a){/^[1-9]([0-9]{10})+$/.test(t)?a():a(new Error("手机号格式不正确"))}},{key:"created",value:function(){this.resetUpdateForm(),this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,Object(m["e"])(t);case 6:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 12:return e.prev=12,this.table.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.updateForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=26;break}if(0!==t.updateDialog.type){e.next=11;break}return e.prev=2,t.updateDialog.loading=!0,e.next=6,Object(m["c"])(t.updateDialog.form);case 6:return e.prev=6,t.updateDialog.loading=!1,e.finish(6);case 9:e.next=22;break;case 11:if(r=Object(g["b"])(t.updateDialog.oldData,t.updateDialog.form),r.id){e.next=15;break}return t.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 15:return e.prev=15,t.updateDialog.loading=!0,e.next=19,Object(m["h"])(r.id,r);case 19:return e.prev=19,t.updateDialog.loading=!1,e.finish(19);case 22:t.updateDialog.visible=!1,t.getData(),t.resetUpdateForm(),t.$notify({title:"恭喜",message:"".concat(0===t.updateDialog.type?"创建":"更新","用户成功"),type:"success",duration:2e3});case 26:case"end":return e.stop()}}),e,null,[[2,,6,9],[15,,19,22]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetUpdateForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.updateForm;e&&e.clearValidate()})),this.updateDialog.form=JSON.parse(JSON.stringify(this.updateDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return 1===this.updateDialog.type&&this.resetUpdateForm(),e.prev=1,e.next=4,Object(h["c"])({noPagination:!0});case 4:t=e.sent,a=t.data,this.updateDialog.roleSelectOptions=a.list,e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](1),this.$message.error("读取系统角色信息失败"),e.abrupt("return");case 13:this.updateDialog.type=0,this.updateDialog.title="创建新用户",this.updateDialog.visible=!0;case 16:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h["c"])({noPagination:!0});case 3:a=e.sent,r=a.data,this.updateDialog.roleSelectOptions=r.list,e.next=12;break;case 8:return e.prev=8,e.t0=e["catch"](0),this.$message.error("读取系统角色信息失败"),e.abrupt("return");case 12:this.resetUpdateForm(),this.updateDialog.form.id=t.id,this.updateDialog.form.username=t.username,this.updateDialog.form.mobile=t.mobile,this.updateDialog.form.nickname=t.nickname,this.updateDialog.form.status=t.status,this.updateDialog.form.roleId=t.roleId,this.updateDialog.oldData=JSON.parse(JSON.stringify(this.updateDialog.form)),this.updateDialog.type=1,this.updateDialog.title="修改用户信息",this.updateDialog.visible=!0;case 23:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"handleBatchDelete",value:function(){this.batchDelete(this.table.selection)}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.username);a.length>0&&(s="确定要删除用户[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["a"])(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleStatusChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="确定要恢复用户[".concat(t.username,"]吗?"),0==t.status&&(a="确定要禁用用户[".concat(t.username,"]吗?该操作可能导致该用户无法正常使用系统")),this.$confirm(a,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["h"])(t.id,{status:t.status});case 2:r.getData();case 3:case"end":return e.stop()}}),e)})))).catch((function(){t.status=0==t.status?1:0}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}}]),a}(d["c"]);b=Object(p["a"])([Object(d["a"])({name:"User",components:{Pagination:f["a"]}})],b);var v=b,y=v,w=(a("c291"),a("2877")),k=Object(w["a"])(y,r,n,!1,null,"d229f5d8",null);t["default"]=k.exports},b9dc:function(e,t,a){"use strict";var r=a("4ec9"),n=a.n(r);n.a},bdd7:function(e,t,a){"use strict";var r=a("e71d"),n=a.n(r);n.a},c273:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("error-a"),a("error-b"),a("h3",[e._v(e._s(e.$t("errorLog.tips")))]),a("aside",[e._v(" "+e._s(e.$t("errorLog.description"))+" "),a("a",{staticClass:"link-type",attrs:{target:"_blank",href:"https://armour.github.io/vue-typescript-admin-docs/guide/advanced/error.html"}},[e._v(" "+e._s(e.$t("errorLog.documentation"))+" ")])]),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{attrs:{href:"#"}},[a("img",{attrs:{src:"https://wpimg.wallstcn.com/360e4842-4db5-42d0-b078-f9a84a825546.gif"}})])}],i=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("60a3"),u=a("ce2f"),p=a("a1ba"),d=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return a}(c["c"]);d=Object(s["a"])([Object(c["a"])({name:"ErrorLog",components:{ErrorA:u["default"],ErrorB:p["default"]}})],d);var f=d,m=f,g=(a("b7dd"),a("2877")),h=Object(g["a"])(m,r,n,!1,null,"756f5c9c",null);t["default"]=h.exports},c291:function(e,t,a){"use strict";var r=a("8767"),n=a.n(r);n.a},c2f7:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"类型",prop:"targetCategory"}},[a("el-select",{attrs:{placeholder:"请选择当前审批类型"},model:{value:e.table.form.targetCategory,callback:function(t){e.$set(e.table.form,"targetCategory","string"===typeof t?t.trim():t)},expression:"table.form.targetCategory"}},e._l(e.defaultConfig.targetCategory,(function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"createdAt",label:"提交时间"}}),a("el-table-column",{attrs:{prop:"flowTargetCategoryStr",align:"center",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.getTargetCategoryTagType(t.row.flowTargetCategoryStr)}},[e._v(" "+e._s(t.row.flowTargetCategoryStr)+" ")])]}}])}),a("el-table-column",{attrs:{prop:"submitDetail",label:"明细"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleApproval(t.row,0)}}},[e._v(" 通过 ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.handleApproval(t.row,1)}}},[e._v(" 拒绝 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.approvalDialog.title,visible:e.approvalDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.approvalDialog,"visible",t)}}},[a("el-form",{ref:"approvalForm",attrs:{model:e.approvalDialog.form,rules:e.approvalDialog.rules,"label-width":"80px"}},[0===e.approvalDialog.type?a("el-form-item",{attrs:{label:"意见",prop:"approvalOpinion"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入审批意见"},model:{value:e.approvalDialog.form.approvalOpinion,callback:function(t){e.$set(e.approvalDialog.form,"approvalOpinion","string"===typeof t?t.trim():t)},expression:"approvalDialog.form.approvalOpinion"}})],1):a("el-form-item",{attrs:{label:"原因",prop:"approvalReason"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入拒绝原因"},model:{value:e.approvalDialog.form.approvalReason,callback:function(t){e.$set(e.approvalDialog.form,"approvalReason","string"===typeof t?t.trim():t)},expression:"approvalDialog.form.approvalReason"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.approvalDialog.loading},on:{click:e.doApproval}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelApproval}},[e._v(" 取 消 ")])],1)],1)],1)},n=[],i=a("5530"),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("333d"),m=a("9ca7"),g=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5,status:[{name:0,label:"提交",type:""},{name:1,label:"通过",type:"success"},{name:2,label:"拒绝",type:"danger"},{name:3,label:"取消",type:"warning"},{name:4,label:"重启",type:"info"},{name:5,label:"结束",type:""}],targetCategory:[{name:1,label:"请假流程",type:""}]},e.table={loading:!1,approvalLoading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{targetCategory:""}},e.approvalDialog={loading:!1,visible:!1,type:0,title:"",defaultForm:{flowId:0,flowTargetCategory:0,targetId:0,approvalOpinion:"",approvalReason:""},form:{},oldData:{},rules:{approvalReason:[{required:!0,message:"原因不能为空",trigger:"blur"}]}},e}return Object(s["a"])(a,[{key:"created",value:function(){this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,Object(m["c"])(t);case 6:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 12:return e.prev=12,this.table.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleApproval",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.resetApprovalForm(),this.approvalDialog.form.flowId=t.flowId,this.approvalDialog.form.flowTargetCategory=t.flowTargetCategory,this.approvalDialog.form.targetId=t.targetId,this.approvalDialog.type=a,this.approvalDialog.title=0===a?"通过审批":"拒绝审批",this.approvalDialog.visible=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"doApproval",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.approvalForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=13;break}return e.prev=1,t.approvalDialog.loading=!0,r=0===t.approvalDialog.type?1:2,n=0===t.approvalDialog.type?t.approvalDialog.form.approvalOpinion:t.approvalDialog.form.approvalReason,e.next=7,Object(m["h"])({flowId:t.approvalDialog.form.flowId,targetCategory:t.approvalDialog.form.flowTargetCategory,targetId:t.approvalDialog.form.targetId,approvalOpinion:n,approvalStatus:r});case 7:return e.prev=7,t.approvalDialog.loading=!1,e.finish(7);case 10:t.approvalDialog.visible=!1,t.getData(),t.$notify({title:"恭喜",message:"审批成功",type:"success",duration:2e3});case 13:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelApproval",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.approvalDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetApprovalForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.approvalForm;e&&e.clearValidate()})),this.approvalDialog.form=JSON.parse(JSON.stringify(this.approvalDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}},{key:"getTargetCategoryTagType",value:function(e){for(var t=0,a=this.defaultConfig.targetCategory.length;t<a;t++){var r=this.defaultConfig.targetCategory[t];if(e===r.label)return r.type}return""}}]),a}(d["c"]);g=Object(p["a"])([Object(d["a"])({name:"Leave",components:{Pagination:f["a"]}})],g);var h=g,b=h,v=(a("3672"),a("2877")),y=Object(v["a"])(b,r,n,!1,null,"9b193318",null);t["default"]=y.exports},c62e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"social-signup-container"},[a("div",{staticClass:"sign-btn",on:{click:function(t){return e.wechatHandleClick("wechat")}}},[a("span",{staticClass:"wx-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{name:"wechat"}})],1),e._v(" 微信 ")]),a("div",{staticClass:"sign-btn",on:{click:function(t){return e.tencentHandleClick("tencent")}}},[a("span",{staticClass:"qq-svg-container"},[a("svg-icon",{staticClass:"icon",attrs:{name:"qq"}})],1),e._v(" QQ ")])])},n=[],i=a("d4ec"),o=a("bee2"),l=a("262e"),s=a("2caf"),c=a("9ab4"),u=a("60a3"),p=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a,[{key:"wechatHandleClick",value:function(e){alert("handle "+e+" here")}},{key:"tencentHandleClick",value:function(e){alert("handle "+e+" here")}}]),a}(u["c"]);p=Object(c["a"])([Object(u["a"])({name:"SocialSignin"})],p);var d=p,f=d,m=(a("95f3"),a("2877")),g=Object(m["a"])(f,r,n,!1,null,"01fd1c75",null);t["default"]=g.exports},c907:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{placeholder:"说明",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.desc,callback:function(t){e.$set(e.table.form,"desc","string"===typeof t?t.trim():t)},expression:"table.form.desc"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择当前审批状态"},model:{value:e.table.form.status,callback:function(t){e.$set(e.table.form,"status","string"===typeof t?t.trim():t)},expression:"table.form.status"}},e._l(e.defaultConfig.status,(function(e){return a("el-option",{key:e.name,attrs:{label:e.label,value:e.name}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" 新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.table.batchDeleteBtnDisabled},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"desc",label:"说明"}}),a("el-table-column",{attrs:{prop:"status",label:"审批状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:e.getStatusTagType(t.row.status)}},[e._v(" "+e._s(e.getStatusTagLabel(t.row.status))+" ")])]}}])}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",loading:e.table.approvalLoading},on:{click:function(a){return e.handleApproval(t.row)}}},[e._v(" 审批记录 ")]),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.updateDialog.title,visible:e.updateDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.updateDialog,"visible",t)}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateDialog.form,rules:e.updateDialog.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入请假说明, 描述清楚更容易审批通过哟~"},model:{value:e.updateDialog.form.desc,callback:function(t){e.$set(e.updateDialog.form,"desc","string"===typeof t?t.trim():t)},expression:"updateDialog.form.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.updateDialog.loading},on:{click:e.doUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelUpdate}},[e._v(" 取 消 ")])],1)],1),a("el-dialog",{attrs:{title:e.approvalDialog.title,visible:e.approvalDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.approvalDialog,"visible",t)}}},[a("el-steps",{attrs:{active:e.approvalDialog.stepsActive,"align-center":!0,space:80,direction:"vertical","finish-status":"success"}},e._l(e.approvalDialog.steps,(function(e,t){return a("el-step",{key:t,attrs:{title:e.title,status:e.status,description:e.description}})})),1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.approvalDialog.visible=!1}}},[e._v(" 确 定 ")])],1)],1)],1)},n=[],i=(a("99af"),a("a15b"),a("b0c0"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("333d"),m=a("b32d"),g=function(e){return Object(m["a"])({url:"/leave/list",method:"get",params:e})},h=function(e){return Object(m["a"])({url:"/leave/approval/list/".concat(e),method:"get"})},b=function(e){return Object(m["a"])({url:"/leave/create",method:"post",data:e})},v=function(e,t){return Object(m["a"])({url:"/leave/update/".concat(e),method:"patch",data:t})},y=function(e){return Object(m["a"])({url:"/leave/delete/batch",method:"delete",params:{ids:e}})},w=a("3490"),k=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5,status:[{name:0,label:"提交",type:""},{name:1,label:"通过",type:"success"},{name:2,label:"拒绝",type:"danger"},{name:3,label:"取消",type:"warning"},{name:4,label:"重启",type:"info"},{name:5,label:"结束",type:""}]},e.updateDialog={loading:!1,type:0,visible:!1,title:"",defaultForm:{id:0,status:"",desc:""},form:{},oldData:{},rules:{desc:[{required:!0,message:"说明不能为空",trigger:"blur"}]}},e.approvalDialog={visible:!1,title:"审批记录",stepsActive:0,steps:[]},e.table={loading:!1,approvalLoading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{status:"",desc:""}},e}return Object(s["a"])(a,[{key:"created",value:function(){this.resetUpdateForm(),this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,g(t);case 6:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 12:return e.prev=12,this.table.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.updateForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=26;break}if(0!==t.updateDialog.type){e.next=11;break}return e.prev=2,t.updateDialog.loading=!0,e.next=6,b(t.updateDialog.form);case 6:return e.prev=6,t.updateDialog.loading=!1,e.finish(6);case 9:e.next=22;break;case 11:if(r=Object(w["b"])(t.updateDialog.oldData,t.updateDialog.form),r.id){e.next=15;break}return t.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 15:return e.prev=15,t.updateDialog.loading=!0,e.next=19,v(r.id,r);case 19:return e.prev=19,t.updateDialog.loading=!1,e.finish(19);case 22:t.updateDialog.visible=!1,t.getData(),t.resetUpdateForm(),t.$notify({title:"恭喜",message:"".concat(0===t.updateDialog.type?"创建":"更新","请假成功"),type:"success",duration:2e3});case 26:case"end":return e.stop()}}),e,null,[[2,,6,9],[15,,19,22]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetUpdateForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.updateForm;e&&e.clearValidate()})),this.updateDialog.form=JSON.parse(JSON.stringify(this.updateDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===this.updateDialog.type&&this.resetUpdateForm(),this.updateDialog.type=0,this.updateDialog.title="创建新请假",this.updateDialog.visible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleApproval",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,o,l,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.approvalLoading=!0,e.prev=1,e.next=4,h(t.id);case 4:for(a=e.sent,r=a.data,this.approvalDialog.stepsActive=r.list.length-1,n=[],i=0,o=r.list.length;i<o;i++)l=r.list[i].log,0===i?n.push({title:l.approvalOpinion,description:l.createdAt,status:"success"}):i<o-1||l.status>0?(s="success",c=l.updatedAt,2===l.status?(s="error",""!==l.approvalOpinion&&(c="拒绝原因: ".concat(l.approvalOpinion,", 时间: ").concat(l.updatedAt))):3===l.status?s="error":4===l.status?s="process":5===l.status&&(s="finish"),n.push({title:"".concat(l.approvalUserNickname,"[").concat(l.approvalUsername,"]").concat(l.statusStr),description:c,status:s})):n.push({title:"待审批",description:"请耐心等待~",status:"wait"});this.approvalDialog.steps=n,this.approvalDialog.visible=!0,e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),this.$message.error("读取审批记录失败");case 16:return e.prev=16,this.table.approvalLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[1,13,16,19]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.resetUpdateForm(),this.updateDialog.form.id=t.id,this.updateDialog.form.desc=t.desc,this.updateDialog.oldData=JSON.parse(JSON.stringify(this.updateDialog.form)),this.updateDialog.type=1,this.updateDialog.title="修改请假信息",this.updateDialog.visible=!0;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"handleBatchDelete",value:function(){this.batchDelete(this.table.selection)}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.desc);a.length>0&&(s="确定要删除请假[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}},{key:"getStatusTagType",value:function(e){for(var t=0,a=this.defaultConfig.status.length;t<a;t++){var r=this.defaultConfig.status[t];if(e===r.name)return r.type}return""}},{key:"getStatusTagLabel",value:function(e){for(var t=0,a=this.defaultConfig.status.length;t<a;t++){var r=this.defaultConfig.status[t];if(e===r.name)return r.label}return""}}]),a}(d["c"]);k=Object(p["a"])([Object(d["a"])({name:"Leave",components:{Pagination:f["a"]}})],k);var D=k,x=D,O=(a("61cb"),a("2877")),j=Object(O["a"])(x,r,n,!1,null,"55074fed",null);t["default"]=j.exports},cdfb:function(e,t,a){"use strict";var r=a("eefc"),n=a.n(r);n.a},ce2f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" "+e._s(e.a.a)+" ")])},n=[],i=a("d4ec"),o=a("262e"),l=a("2caf"),s=a("9ab4"),c=a("60a3"),u=function(e){Object(o["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(i["a"])(this,a),t.apply(this,arguments)}return a}(c["c"]);u=Object(s["a"])([Object(c["a"])({name:"ErrorTestA"})],u);var p=u,d=p,f=a("2877"),m=Object(f["a"])(d,r,n,!1,null,null,null);t["default"]=m.exports},d0c1:function(e,t,a){},d297:function(e,t,a){e.exports={menuBg:"#304156",menuText:"#bfcbd9",menuActiveText:"#409eff"}},d58f:function(e,t,a){var r=a("1c0b"),n=a("7b0b"),i=a("44ad"),o=a("50c4"),l=function(e){return function(t,a,l,s){r(a);var c=n(t),u=i(c),p=o(c.length),d=e?p-1:0,f=e?-1:1;if(l<2)while(1){if(d in u){s=u[d],d+=f;break}if(d+=f,e?d<0:p<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:p>d;d+=f)d in u&&(s=a(s,u[d],d,c));return s}};e.exports={left:l(!1),right:l(!0)}},d63e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("a",{staticClass:"link-type link-title",attrs:{target:"_blank",href:"https://armour.github.io/vue-typescript-admin-docs/guide/advanced/theme.html"}},[e._v(" "+e._s(e.$t("theme.documentation"))+" ")])]),a("div",{staticClass:"box-item"},[a("span",{staticClass:"field-label"},[e._v(e._s(e.$t("theme.change"))+" : ")]),a("el-switch",{model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}}),a("aside",{staticStyle:{"margin-top":"15px"}},[e._v(" "+e._s(e.$t("theme.tips"))+" ")])],1)]),a("div",{staticClass:"block"},[a("el-button",{attrs:{type:"primary"}},[e._v(" Primary ")]),a("el-button",{attrs:{type:"success"}},[e._v(" Success ")]),a("el-button",{attrs:{type:"info"}},[e._v(" Info ")]),a("el-button",{attrs:{type:"warning"}},[e._v(" Warning ")]),a("el-button",{attrs:{type:"danger"}},[e._v(" Danger ")])],1),a("div",{staticClass:"block"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-share"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"}},[e._v(" Search ")]),a("el-button",{attrs:{type:"primary"}},[e._v(" Upload "),a("i",{staticClass:"el-icon-upload el-icon-right"})])],1),a("div",{staticClass:"block"},e._l(e.tags,(function(t){return a("el-tag",{key:t.type,staticClass:"tag-item",attrs:{type:t.type}},[e._v(" "+e._s(t.name)+" ")])})),1),a("div",{staticClass:"block"},[a("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[a("el-radio",{attrs:{label:3}},[e._v(" Option A ")]),a("el-radio",{attrs:{label:6}},[e._v(" Option B ")]),a("el-radio",{attrs:{label:9}},[e._v(" Option C ")])],1)],1),a("div",{staticClass:"block"},[a("el-slider",{model:{value:e.slideValue,callback:function(t){e.slideValue=t},expression:"slideValue"}})],1)],1)},n=[],i=a("d4ec"),o=a("bee2"),l=a("262e"),s=a("2caf"),c=a("9ab4"),u=a("60a3"),p=a("d257"),d=(a("0f0f"),function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.theme=!1,e.tags=[{name:"Tag One",type:""},{name:"Tag Two",type:"info"},{name:"Tag Three",type:"success"},{name:"Tag Four",type:"warning"},{name:"Tag Five",type:"danger"}],e.slideValue=50,e.radio=3,e}return Object(o["a"])(a,[{key:"onThemeChange",value:function(){Object(p["d"])(document.body,"custom-theme")}}]),a}(u["c"]));Object(c["a"])([Object(u["d"])("theme")],d.prototype,"onThemeChange",null),d=Object(c["a"])([Object(u["a"])({name:"Theme"})],d);var f=d,m=f,g=(a("b320"),a("2877")),h=Object(g["a"])(m,r,n,!1,null,"08bb92ea",null);t["default"]=h.exports},dfe0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("uploader",{staticClass:"uploader-example",attrs:{options:e.uploader.options,"file-status-text":e.uploader.statusText},on:{"file-added":e.onFileAdded,"file-success":e.onFileSuccess}},[a("uploader-unsupport"),a("uploader-btn",{attrs:{attrs:e.uploader.attrs}},[e._v(" 点我上传ZIP压缩文件 ")]),a("el-button",{attrs:{type:"primary",loading:e.uploader.unzipLoading},on:{click:e.doUnzip}},[e._v(" 全部解压"),a("span",[e._v("(已上传"+e._s(e.uploader.merged.length)+", 已解压"+e._s(e.uploader.unziped.length)+")")])]),a("uploader-list")],1)],1)},n=[],i=(a("c975"),a("b0c0"),a("96cf"),a("1da1")),o=a("d4ec"),l=a("bee2"),s=a("262e"),c=a("2caf"),u=a("9ab4"),p=a("60a3"),d=a("3c56"),f=a("9dba"),m=function(e){Object(s["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.uploader={options:{target:"api/v1/upload/file",fileParameterName:"file",testChunks:!0,checkChunkUploadedByResponse:function(e,t){var a=JSON.parse(t);return 201===a.code&&a.data&&(a.data.complete||(a.data.uploaded||[]).indexOf(e.offset+1)>=0)},headers:{Authorization:"Bearer "+f["a"].token}},statusText:{success:"上传成功",error:"上传失败",uploading:"上传中",paused:"暂停中",waiting:"等待中"},files:[],attrs:{accept:"application/zip"},merged:[],unziped:[],unzipLoading:!1},e}return Object(l["a"])(a,[{key:"doUnzip",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==this.uploader.merged.length){e.next=3;break}return this.$message({type:"warning",message:"请至少上传完成一个文件~"}),e.abrupt("return");case 3:this.uploader.unzipLoading=!0,t=0,a=this.uploader.merged.length;case 5:if(!(t<a)){e.next=25;break}return r=this.uploader.merged[t],e.prev=7,e.next=10,Object(d["b"])({filename:r});case 10:n=e.sent,n.data,this.uploader.unziped.push(r),this.$notify({title:"恭喜",message:"文件".concat(r,"解压成功"),type:"success",duration:2e3}),e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](7),this.$notify({title:"对不起",message:"文件".concat(r,"解压失败"),type:"error",duration:2e3});case 19:return e.prev=19,this.uploader.unzipLoading=!1,e.finish(19);case 22:t++,e.next=5;break;case 25:this.uploader.merged=[];case 26:case"end":return e.stop()}}),e,this,[[7,16,19,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onFileAdded",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=!1,r=0,n=this.uploader.files.length;case 2:if(!(r<n)){e.next=9;break}if(this.uploader.files[r].name!==t.name){e.next=6;break}return a=!0,e.abrupt("break",9);case 6:r++,e.next=2;break;case 9:a||this.uploader.files.push(t);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onFileSuccess",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a,r,n){var i,o,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=JSON.parse(r),201!==i.code||!i.data||!i.data.complete){e.next=14;break}return e.prev=2,e.next=5,Object(d["a"])(i.data);case 5:o=e.sent,l=o.data,this.uploader.merged.push(l.filename),this.$notify({title:"恭喜",message:"文件".concat(a.name,"合并成功"),type:"success",duration:2e3}),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),this.$notify({title:"对不起",message:"文件".concat(a.name,"合并失败"),type:"error",duration:2e3});case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));function t(t,a,r,n){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=0,a=this.uploader.files.length;t<a;t++)this.uploader.files[t].completed||this.uploader.files[t].cancel();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),a}(p["c"]);m=Object(u["a"])([Object(p["a"])({name:"Uploader2"})],m);var g=m,h=g,b=(a("a83b"),a("2877")),v=Object(b["a"])(h,r,n,!1,null,null,null);t["default"]=v.exports},e71d:function(e,t,a){},edc7:function(e,t,a){"use strict";var r=a("d297"),n=a.n(r);n.a},eefc:function(e,t,a){},ef3c:function(e,t,a){"use strict";a.r(t);a("ac1f"),a("5319");var r=a("d4ec"),n=a("bee2"),i=a("262e"),o=a("2caf"),l=a("9ab4"),s=a("60a3"),c=function(e){Object(i["a"])(a,e);var t=Object(o["a"])(a);function a(){return Object(r["a"])(this,a),t.apply(this,arguments)}return Object(n["a"])(a,[{key:"created",value:function(){var e=this.$route,t=e.params,a=e.query,r=t.path;this.$router.replace({path:"/"+r,query:a})}},{key:"render",value:function(){}}]),a}(s["c"]);c=Object(l["a"])([Object(s["a"])({name:"Redirect"})],c);var u,p,d=c,f=d,m=a("2877"),g=Object(m["a"])(f,u,p,!1,null,null,null);t["default"]=g.exports},f982:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],ref:"searchForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.table.form}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"角色名称",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.name,callback:function(t){e.$set(e.table.form,"name","string"===typeof t?t.trim():t)},expression:"table.form.name"}})],1),a("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[a("el-input",{attrs:{placeholder:"关键字",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.keyword,callback:function(t){e.$set(e.table.form,"keyword","string"===typeof t?t.trim():t)},expression:"table.form.keyword"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{clearable:"",placeholder:"角色状态"},model:{value:e.table.form.status,callback:function(t){e.$set(e.table.form,"status","string"===typeof t?t.trim():t)},expression:"table.form.status"}},[a("el-option",{key:"1",attrs:{label:"正常",value:1}}),a("el-option",{key:"0",attrs:{label:"禁用",value:0}})],1)],1),a("el-form-item",{attrs:{label:"创建人",prop:"creator"}},[a("el-input",{attrs:{placeholder:"创建人",clearable:""},on:{clear:e.doSearch},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSearch(t)}},model:{value:e.table.form.creator,callback:function(t){e.$set(e.table.form,"creator","string"===typeof t?t.trim():t)},expression:"table.form.creator"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",loading:e.table.loading},on:{click:e.doSearch}},[e._v(" 查询 ")]),a("el-button",{on:{click:function(t){return e.resetForm("searchForm")}}},[e._v(" 重置 ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.handleCreate}},[e._v(" 新增 ")])],1),a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.table.batchDeleteBtnDisabled},on:{click:e.handleBatchDelete}},[e._v(" 批量删除 ")])],1)],1),a("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.table.list,"row-key":"id",border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",sortable:""}}),a("el-table-column",{attrs:{prop:"keyword",label:"关键字",sortable:""}}),a("el-table-column",{attrs:{prop:"desc",label:"说明"}}),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status","string"===typeof a?a.trim():a)},expression:"scope.row.status"}})]}}])}),a("el-table-column",{attrs:{prop:"creator",label:"创建人"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleRole(t.row)}}},[e._v(" 权限 ")]),a("el-button",{on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" 删除 ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.table.pageNum,"page-sizes":[1,5,20,50],"page-size":e.table.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.table.total,background:""},on:{"size-change":e.handlePagSizeChange,"current-change":e.handlePageNumChange}})],1),a("el-dialog",{attrs:{title:e.updateDialog.title,visible:e.updateDialog.visible,width:"500px"},on:{"update:visible":function(t){return e.$set(e.updateDialog,"visible",t)}}},[a("el-form",{ref:"updateForm",attrs:{model:e.updateDialog.form,rules:e.updateDialog.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.updateDialog.form.name,callback:function(t){e.$set(e.updateDialog.form,"name","string"===typeof t?t.trim():t)},expression:"updateDialog.form.name"}})],1),a("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[a("el-input",{attrs:{placeholder:"请输入关键字"},model:{value:e.updateDialog.form.keyword,callback:function(t){e.$set(e.updateDialog.form,"keyword","string"===typeof t?t.trim():t)},expression:"updateDialog.form.keyword"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"正常","inactive-text":"禁用"},model:{value:e.updateDialog.form.status,callback:function(t){e.$set(e.updateDialog.form,"status","string"===typeof t?t.trim():t)},expression:"updateDialog.form.status"}})],1),a("el-form-item",{attrs:{label:"说明",prop:"desc"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.updateDialog.form.desc,callback:function(t){e.$set(e.updateDialog.form,"desc","string"===typeof t?t.trim():t)},expression:"updateDialog.form.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.updateDialog.loading},on:{click:e.doUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelUpdate}},[e._v(" 取 消 ")])],1)],1),a("el-dialog",{attrs:{title:e.roleDialog.title,visible:e.roleDialog.visible,"custom-class":"role-dialog",width:"500px"},on:{"update:visible":function(t){return e.$set(e.roleDialog,"visible",t)}}},[a("el-tabs",{model:{value:e.roleDialog.tab.activeName,callback:function(t){e.$set(e.roleDialog.tab,"activeName","string"===typeof t?t.trim():t)},expression:"roleDialog.tab.activeName"}},[a("el-tab-pane",{attrs:{label:"菜单权限",name:"menu"}},[a("el-tree",{ref:"roleMenuTree",attrs:{data:e.roleDialog.tab.menus,props:e.defaultConfig.roleMenuTreeProps,"default-checked-keys":e.roleDialog.tab.checkedMenus,"show-checkbox":"","node-key":"id"}})],1),a("el-tab-pane",{attrs:{label:"接口权限",name:"api"}},[a("el-tree",{ref:"roleApiTree",attrs:{data:e.roleDialog.tab.apis,props:e.defaultConfig.roleApiTreeProps,"default-checked-keys":e.roleDialog.tab.checkedApis,"show-checkbox":"","node-key":"id"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",loading:e.roleDialog.loading},on:{click:e.doRoleUpdate}},[e._v(" 确 定 ")]),a("el-button",{on:{click:e.cancelRoleUpdate}},[e._v(" 取 消 ")])],1)],1)],1)},n=[],i=(a("a15b"),a("b0c0"),a("5530")),o=(a("96cf"),a("1da1")),l=a("d4ec"),s=a("bee2"),c=a("262e"),u=a("2caf"),p=a("9ab4"),d=a("60a3"),f=a("333d"),m=a("3737"),g=a("44df"),h=a("23ea"),b=a("3490"),v=function(e){Object(c["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.defaultConfig={pageNum:1,pageSize:5,roleMenuTreeProps:{children:"children",label:"title"},roleApiTreeProps:{children:"children",label:"title"}},e.updateDialog={loading:!1,type:0,visible:!1,title:"",defaultForm:{id:0,name:"",keyword:"",status:!0,desc:""},form:{},oldData:{},rules:{name:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],keyword:[{required:!0,message:"关键字不能为空",trigger:"blur"},{validator:e.validateKeyword,trigger:"blur"}]}},e.roleDialog={loading:!1,title:"修改权限",visible:!1,roleId:0,tab:{activeName:"menu",menus:[],checkedMenus:[],apis:[],checkedApis:[]}},e.table={loading:!1,batchDeleteBtnDisabled:!0,selection:[],list:[],pageNum:1,pageSize:5,total:0,form:{name:"",keyword:"",status:"",creator:""}},e}return Object(s["a"])(a,[{key:"validateKeyword",value:function(e,t,a){/^[a-zA-Z]/.test(t)?/^[a-zA-Z]([-_a-zA-Z0-9])+$/.test(t)?a():a(new Error("不允许出现汉字或特殊字符, 如a+,sa、a张三")):a(new Error("必须以字母开头, 如a12345"))}},{key:"created",value:function(){this.resetUpdateForm(),this.getData()}},{key:"getData",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.table.loading=!0,e.prev=1,t=Object(i["a"])(Object(i["a"])({},this.table.form),{},{pageNum:this.table.pageNum,pageSize:this.table.pageSize}),""===t.status&&delete t.status,e.next=6,Object(m["c"])(t);case 6:a=e.sent,r=a.data,this.table.list=r.list,this.table.pageNum=r.pageNum,this.table.pageSize=r.pageSize,this.table.total=r.total;case 12:return e.prev=12,this.table.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[1,,12,15]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doSearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getData();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.updateForm.validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=26;break}if(0!==t.updateDialog.type){e.next=11;break}return e.prev=2,t.updateDialog.loading=!0,e.next=6,Object(m["b"])(t.updateDialog.form);case 6:return e.prev=6,t.updateDialog.loading=!1,e.finish(6);case 9:e.next=22;break;case 11:if(r=Object(b["b"])(t.updateDialog.oldData,t.updateDialog.form),r.id){e.next=15;break}return t.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 15:return e.prev=15,t.updateDialog.loading=!0,e.next=19,Object(m["d"])(r.id,r);case 19:return e.prev=19,t.updateDialog.loading=!1,e.finish(19);case 22:t.updateDialog.visible=!1,t.getData(),t.resetUpdateForm(),t.$notify({title:"恭喜",message:"".concat(0===t.updateDialog.type?"创建":"更新","角色成功"),type:"success",duration:2e3});case 26:case"end":return e.stop()}}),e,null,[[2,,6,9],[15,,19,22]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetUpdateForm",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$nextTick((function(){var e=t.$refs.updateForm;e&&e.clearValidate()})),this.updateDialog.form=JSON.parse(JSON.stringify(this.updateDialog.defaultForm));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doRoleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("menu"!==this.roleDialog.tab.activeName){e.next=5;break}return e.next=3,this.doRoleMenuUpdate();case 3:e.next=8;break;case 5:if("api"!==this.roleDialog.tab.activeName){e.next=8;break}return e.next=8,this.doRoleApiUpdate();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"doRoleMenuUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$refs.roleMenuTree.getCheckedKeys(),a=Object(b["a"])(this.roleDialog.tab.checkedMenus,t),0!==a.create.length||0!==a.update.length||0!==a.delete.length){e.next=5;break}return this.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 5:return e.prev=5,this.roleDialog.loading=!0,e.next=9,Object(m["f"])(this.roleDialog.roleId,a);case 9:return e.prev=9,this.roleDialog.loading=!1,e.finish(9);case 12:this.roleDialog.visible=!1,this.getData();case 14:case"end":return e.stop()}}),e,this,[[5,,9,12]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"doRoleApiUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,a,r,n,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=this.$refs.roleApiTree.getCheckedKeys(),a=[],r=0,n=t.length;r<n;r++)i=t[r],i&&a.push(i);if(o=Object(b["a"])(this.roleDialog.tab.checkedApis,a),0!==o.create.length||0!==o.update.length||0!==o.delete.length){e.next=7;break}return this.$message({type:"warning",message:"数据没有发生变化, 请重新输入~"}),e.abrupt("return");case 7:return e.prev=7,this.roleDialog.loading=!0,e.next=11,Object(m["e"])(this.roleDialog.roleId,o);case 11:return e.prev=11,this.roleDialog.loading=!1,e.finish(11);case 14:this.roleDialog.visible=!1,this.getData();case 16:case"end":return e.stop()}}),e,this,[[7,,11,14]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.updateDialog.visible=!1;case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"cancelRoleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.roleDialog.visible=!1,this.roleDialog.roleId=0,this.roleDialog.tab.activeName="menu";case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCreate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:1===this.updateDialog.type&&this.resetUpdateForm(),this.updateDialog.type=0,this.updateDialog.title="创建新角色",this.updateDialog.visible=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleUpdate",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.resetUpdateForm(),this.updateDialog.form.id=t.id,this.updateDialog.form.name=t.name,this.updateDialog.form.keyword=t.keyword,this.updateDialog.form.status=t.status,this.updateDialog.form.desc=t.desc,this.updateDialog.oldData=JSON.parse(JSON.stringify(this.updateDialog.form)),this.updateDialog.type=1,this.updateDialog.title="修改角色信息",this.updateDialog.visible=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleRole",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(h["c"])(t.id);case 2:return a=e.sent,r=a.data,e.next=6,Object(g["c"])(t.id);case 6:n=e.sent,i=n.data,this.roleDialog.tab.menus=r.list,this.roleDialog.tab.checkedMenus=r.accessIds,this.roleDialog.tab.oldCheckedMenus=r.accessIds,this.roleDialog.tab.apis=i.list,this.roleDialog.tab.checkedApis=i.accessIds,this.roleDialog.tab.oldCheckedApis=i.accessIds,this.roleDialog.roleId=t.id,this.roleDialog.visible=!0;case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleDelete",value:function(e){this.batchDelete([e])}},{key:"handleBatchDelete",value:function(){this.batchDelete(this.table.selection)}},{key:"batchDelete",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,i,l,s,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=[],r=[],n=0,i=t.length;n<i;n++)l=t[n],a.push(l.id),r.push(l.name);a.length>0&&(s="确定要删除角色[".concat(r.join(","),"]吗, 此操作不可逆?"),this.$confirm(s,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["a"])(a.join(","));case 2:c.getData();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleStatusChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var a,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="确定要恢复角色[".concat(t.name,"]吗?"),0==t.status&&(a="确定要禁用角色[".concat(t.name,"]吗?该操作可能导致属于该角色的所有用户无法正常使用系统")),this.$confirm(a,"请谨慎操作",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(m["d"])(t.id,{status:t.status});case 2:r.getData();case 3:case"end":return e.stop()}}),e)})))).catch((function(){t.status=0==t.status?1:0}));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resetForm",value:function(e){this.table.pageNum=this.defaultConfig.pageNum,this.table.pageSize=this.defaultConfig.pageSize;var t=this.$refs[e];t.resetFields(),this.getData()}},{key:"handleSelectionChange",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.table.batchDeleteBtnDisabled=0===t.length,this.table.selection=t;case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handlePagSizeChange",value:function(e){this.table.pageSize=e,this.doSearch()}},{key:"handlePageNumChange",value:function(e){this.table.pageNum=e,this.doSearch()}}]),a}(d["c"]);v=Object(p["a"])([Object(d["a"])({name:"Role",components:{Pagination:f["a"]}})],v);var y=v,w=y,k=(a("7a23"),a("edc7"),a("2877")),D=Object(k["a"])(w,r,n,!1,null,"2a1b0f54",null);t["default"]=D.exports},feda:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[e._v(" 测试用例 ")])},n=[],i=a("2877"),o={},l=Object(i["a"])(o,r,n,!1,null,null,null);t["default"]=l.exports}}]);